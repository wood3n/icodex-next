<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tools/git">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">git命令整理 | icodex</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://icodex.me/docs/tools/git"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="keywords" content="frontend, react, javascript, css, react, vue, typescript, docusaurus, blog, personal blog, personal website"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="git命令整理 | icodex"><meta data-rh="true" name="description" content="HEAD"><meta data-rh="true" property="og:description" content="HEAD"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://icodex.me/docs/tools/git"><link data-rh="true" rel="alternate" href="https://icodex.me/docs/tools/git" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://icodex.me/docs/tools/git" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GMKEEJO8X4-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="icodex RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="icodex Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-153188913-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-153188913-1",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="icodex" href="/opensearch.xml">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.596c1d98.css">
<link rel="preload" href="/assets/js/runtime~main.37c10f68.js" as="script">
<link rel="preload" href="/assets/js/main.777d231b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="icodex" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="icodex" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">icodex</b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link" href="/pages/project">My Project</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Skill</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/javascript/guides">JavaScript</a></li><li><a class="dropdown__link" href="/docs/css/guides">CSS</a></li><li><a class="dropdown__link" href="/docs/typescript">TypeScript</a></li><li><a class="dropdown__link" href="/docs/react/guides">React</a></li><li><a class="dropdown__link" href="/docs/nodejs/awesome-nodejs">NodeJS</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/network/guides">Network</a></li><li><a class="dropdown__link" href="/docs/algorithm/算法分析">Algorithm</a></li><li><a class="dropdown__link" href="/docs/interview/guides">Interview</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/engineer/guides">Engineer</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/tools/git">Tool</a><a href="https://github.com/wood3n/icodex-next" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.png" alt="icodex" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="icodex" class="themedImage_ToTc themedImage--dark_i4oU"><b>icodex</b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tools/URL">URL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/tools/git">git命令整理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tools/nrm">nrm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tools/package配置">packagejson的配置项</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tools/常用工具函数">utility</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">git命令整理</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>git命令整理</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="head">HEAD<a class="hash-link" href="#head" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="什么是-head">什么是 HEAD<a class="hash-link" href="#什么是-head" title="标题的直接链接">​</a></h3><p><code>HEAD</code>是当前分支引用的指针，通常将其看作该分支上最后一次提交的快照。</p><p>在 git 中文件有三种状态：</p><ul><li><p><strong>modified</strong>：已修改，包括新创建的文件，或者对已提交文件的修改，对应工作区</p></li><li><p><strong>staged</strong>：已暂存，对应暂存区</p></li><li><p><strong>committed</strong>：已提交</p></li></ul><p><img loading="lazy" alt="image-20201128144057159" src="/assets/images/image-20201128144057159-27e80dfd980b6916ed44eb4bc0379257.png" width="1488" height="685" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="常用">常用<a class="hash-link" href="#常用" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-config">git config<a class="hash-link" href="#git-config" title="标题的直接链接">​</a></h3><p>Git 自带一个 <code>git config</code> 的工具来帮助设置控制 Git 外观和行为的配置变量，比较常见的就是配置 git 的用户名和邮箱</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global user.name </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;icodex&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global user.email xxx@163.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Git 配置使用<code>git push</code>时自动关联远程分支：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global --add push.default current</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global --add push.autoSetupRemote </span><span class="token boolean">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Git 配置大小写敏感</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config core.ignorecase </span><span class="token boolean">false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果要获取所有 git 的配置，可以使用：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --list</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-clone">git clone<a class="hash-link" href="#git-clone" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> clone </span><span class="token operator">&lt;</span><span class="token plain">url</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">eg: </span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> clone https://github.com/libgit2/libgit2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>复制远程仓库到本地。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-add">git add<a class="hash-link" href="#git-add" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">files</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">eg: </span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">eg: </span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> ./src</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>对于 git 而言，文件目录中的文件一般有几种状态：</p><ul><li>未修改：未修改的文件可能是没有编辑过的文件，或者编辑过已经提交的文件</li><li>已修改</li><li>已暂存：添加到暂存区的文件</li></ul><p>编辑过某些文件之后，由于自上次提交后你对它们做了修改，git 将它们标记为已修改文件，可以选择性地将这些修改过的文件放入暂存区，然后提交所有已暂存的修改。</p><p>使用<code>git add</code>命令就是将文件添加到暂存区，<code>git add</code> 命令使用<strong>文件或目录的路径作为参数</strong>；如果参数是目录的路径，该命令将递归地跟踪该目录下的所有文件，例如常用的<code>.</code>表示的是当前放开 git 命令的目录，一般在项目上使用就是递归寻找所有修改过的所有文件，然后放到暂存区。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="取消暂存">取消暂存<a class="hash-link" href="#取消暂存" title="标题的直接链接">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> reset HEAD </span><span class="token operator">&lt;</span><span class="token plain">file</span><span class="token operator file-descriptor important">1</span><span class="token operator">&gt;</span><span class="token plain">,</span><span class="token operator">&lt;</span><span class="token plain">file</span><span class="token operator file-descriptor important">2</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>git reset HEAD</code>加上指定的文件或者文件夹，可以取消将该文件或者该文件夹放到暂存区，注意只是取消暂存区，并不是取消更改。</p><p><img loading="lazy" alt="image-20200922110611085" src="/assets/images/image-20200922110611085-865bb1be1eca0aec64e5bb4c5f09d248.png" width="654" height="176" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-commit">git commit<a class="hash-link" href="#git-commit" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 提交</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;xxx&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 跳过暂存直接暂存并提交</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> commit -a -m </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;xxx&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 合并提交记录</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> commit </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">-a -m</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">--amend</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果<code>git commit</code>带上<code>-a</code>后缀就表示跳过<code>git add</code>阶段保存到暂存区的过程，直接将所有已经跟踪过的文件暂存起来一并提交。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="合并提交">合并提交<a class="hash-link" href="#合并提交" title="标题的直接链接">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> commit --amend</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">eg:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;initial commit&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> forgotten_file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> commit --amend</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>amend</code>是修改的意思，<code>git commit --amend</code>这个命令更像是合并提交的，因为有时候刚提交完可能又发生了文件修改，此时如果使用<code>git commit</code>会有多个 commit 记录，而使用<code>git commit --amend</code>最终只会有一个提交——第二次提交将代替第一次提交的结果，这样仓库就不会出现“啊，忘了添加一个文件”或者 “小修补，修正笔误”这种乱七八糟的提交信息了。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-push">git push<a class="hash-link" href="#git-push" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> push </span><span class="token operator">&lt;</span><span class="token plain">远程主机名</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">本地分支名</span><span class="token operator">&gt;</span><span class="token plain">:</span><span class="token operator">&lt;</span><span class="token plain">远程分支名</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//如果本地分支名与远程分支名相同，则可以省略冒号：</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> push </span><span class="token operator">&lt;</span><span class="token plain">远程主机名</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">本地分支名</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> push --set-upstream origin master</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> push -f</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>git push</code>是带有远程地址和分支名称的，例如<code>git push origin master</code>，比如刚刚本地新建一个分支要提交到远程仓库，就需要设置远程主机名和分支名。</p><p>如果远程仓库存在多条分支，那么需要每次提交代码都指定对应的主机名和分支名，否则 git 会拒绝操作。</p><p><img loading="lazy" alt="image-20200922112449671" src="/assets/images/image-20200922112449671-8b083c956aacf17c05ee18f74784c179.png" width="692" height="191" class="img_ev3q"></p><p>这样很麻烦，git 也给了命令提示，<code>--set-upstream</code>可以设置默认推送的远程仓库的分支。这样下次执行就可以不用指定分支直接使用<code>git push</code>了。</p><p><img loading="lazy" alt="image-20200922113301597" src="/assets/images/image-20200922113301597-1feebbd3d0a293d6595224e6b3e260ec.png" width="698" height="179" class="img_ev3q"></p><p>如果本地版本低于远程仓库的提交版本，使用<code>git push</code>会失败， git 会提示需要从远程仓库抓取更新才能推送。这时候使用<code>git push -f xx</code>可以强制推送本地版本到远程仓库，当然了，远程仓库已经存在的文件也会丢失。</p><p><img loading="lazy" alt="image-20200922134548310" src="/assets/images/image-20200922134548310-545bebd9958b192bb8a8748d4d41b260.png" width="825" height="497" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-fetch">git fetch<a class="hash-link" href="#git-fetch" title="标题的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">git fetch </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token operator">--</span><span class="token plain">all</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>git fetch</code>会将远程仓库及其改动都拉取下来，然后你可以在本地使用<code>git merge</code>命名将两个分支的代码进行合并，一般这个过程是这样的：</p><ul><li>使用<code>git fetch</code>拉去所有远程分支的代码</li><li>使用<code>git add</code>+<code>git commit</code>/<code>git stash</code>将本地代码先暂存起来</li><li>执行<code>git merge &lt;branch&gt;</code>将指定远程仓库在本地的副本仓库合并到当前分支</li></ul><p>一般来说，当你本地切换到</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-pull">git pull<a class="hash-link" href="#git-pull" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> pull </span><span class="token operator">&lt;</span><span class="token plain">远程主机名</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">远程分支名</span><span class="token operator">&gt;</span><span class="token plain">:</span><span class="token operator">&lt;</span><span class="token plain">本地分支名</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//如果本地分支名与远程分支名相同，则可以省略冒号：</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> push </span><span class="token operator">&lt;</span><span class="token plain">远程主机名</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">远程分支名</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>git pull</code>是从远程仓库的分支获取代码并合并到本地工作区。相当于<code>git fetch</code>和<code>git merge</code>。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-stash">git stash<a class="hash-link" href="#git-stash" title="标题的直接链接">​</a></h3><blockquote><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> stash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> stash pop</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></blockquote><p><code>git stash</code>非常常用，用于缓存工作区修改的代码，将工作区恢复到上次<code>commit</code>以后的状态，这样工作区就干净了，就好像没有任何更改一样。</p><p>有这样一种场景是，你本地正在开发新功能，突然测试提了一个新的 BUG，要你立即修复，这时候你功能还没开发完肯定没法<code>commit</code>代码，所以就得<code>git stash</code>缓存下来，同时还清空了工作区的修改，这样就就可以很方便的去修改 BUG，然后提交修改 BUG 的<code>commit</code>并推送。</p><p>然后你需要回到刚才开发功能的场景继续，这时候使用<code>git stash pop</code>将缓存区第一个缓存的本地修改记录出栈，于是你本地工作区就恢复到了之前开发时的完整代码，<code>so nice</code>！！！🥳🥳🥳</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-rm">git rm<a class="hash-link" href="#git-rm" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">rm</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">file</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">rm</span><span class="token plain"> --cached </span><span class="token operator">&lt;</span><span class="token plain">file</span><span class="token operator">&gt;</span><span class="token plain">  //只删除远程，不删除本地</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>git rm</code>可以从远程仓库以及本地移除文件，如果后面跟的是一个目录做为参数，则会递归删除整个目录中的所有子目录和文件。先执行<code>git rm</code>可以看到本地仓库文件被删除，然后执行<code>git commit</code>和<code>git push</code>，就可以删除远程仓库的文件，</p><p><img loading="lazy" alt="image-20200922102757782" src="/assets/images/image-20200922102757782-e0c72779999d5b3978a5fe1daab96b76.png" width="656" height="466" class="img_ev3q"></p><p>如果只想删除远程仓库的文件，而保留本地的，那么需要添加<code>--cached</code>来操作。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="分支操作">分支操作<a class="hash-link" href="#分支操作" title="标题的直接链接">​</a></h2><p>从一个远程跟踪分支检出一个本地分支会自动创建所谓的“跟踪分支”（它跟踪的分支叫做<code>upstream</code>）。 跟踪分支是与远程分支有直接关系的本地分支。 如果在一个跟踪分支上输入 <code>git pull</code>，Git 能自动地识别去哪个服务器上抓取、合并到哪个分支。当克隆一个仓库时，它通常会自动地创建一个跟踪 <code>origin/master</code> 的 <code>master</code> 分支。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-branch">git branch<a class="hash-link" href="#git-branch" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 显示本地全部分支名称</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> branch</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 显示远程指定分支的信息</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> remote show </span><span class="token operator">&lt;</span><span class="token plain">remote</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 创建新的分支</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> branch </span><span class="token operator">&lt;</span><span class="token plain">branchname</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 基于指定的远程分支创建本地分支</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> branch </span><span class="token operator">&lt;</span><span class="token plain">branchname</span><span class="token operator">&gt;</span><span class="token plain"> origin/branchName</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 强制删除本地分支</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> branch -D </span><span class="token operator">&lt;</span><span class="token plain">branchname</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 删除远程分支</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> push origin --delete </span><span class="token operator">&lt;</span><span class="token plain">branchname</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 将本地当前分支和指定的远程分支关联起来</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> branch --set-upstream-to</span><span class="token operator">=</span><span class="token plain">origin/</span><span class="token operator">&lt;</span><span class="token plain">remote branch</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">local branch</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 重命名分支</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> branch -m oldName newName</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">eg:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> branch testing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> branch -d issue1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>git branch</code>命令可以显示本地仓库有多少分支存在；如果要显示远程仓库的分支信息，可以使用<code>git remote show origin</code>.</p><p><img loading="lazy" alt="image-20200922113012782" src="/assets/images/image-20200922113012782-07b3d149160195b331b9331741a75378.png" width="628" height="367" class="img_ev3q"></p><p>默认分支名称是<code>master</code>，<code>git branch</code>命令用于在本地创建一个新的分支；<code>git branch</code>只是创建分支，并不会自动切换到新的分支。</p><p>如果使用<code>git branch &lt;branchname&gt; origin/branchName</code>指定远程分支，则会基于远程分支创建本地分支并且自动把它们关联起来。现在的大多数编辑器在手动切换分支的时候都会自动实现这个功能，例如<code>VSCode</code>，当你选择在分支查看面板点击某个远程分支以后，会自动为远程分支创建本地分支副本并且把他们关联起来，然后再切换到这个新创建的分支副本上去。值得注意的是，使用<code>git fetch</code>并不会同时更新这个远程分支的副本，需要使用<code>git pull</code>，这个应该是很常见的问题！</p><p><img loading="lazy" alt="image-20201128115541197" src="data:image/png;base64,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" width="687" height="69" class="img_ev3q"></p><p><img loading="lazy" alt="image-20201128120104243" src="/assets/images/image-20201128120104243-47cc354b32820d3d907b0a025aabbca7.png" width="603" height="381" class="img_ev3q"></p><p>如果使用<code>git branch -d</code>后缀，则是<strong>删除本地分支</strong>，使用大写的<code>-D</code>后缀是强制删除，一般情况下用大写的情况居多。</p><p><img loading="lazy" alt="image-20200922002646840" src="/assets/images/image-20200922002646840-16ddef2bb9b429757fc11d336d6a0590.png" width="605" height="312" class="img_ev3q"></p><p>如果要删除远程仓库的分支，需要使用<code>git push origin --delete &lt;branchname&gt;</code></p><p><img loading="lazy" alt="image-20200922113625293" src="/assets/images/image-20200922113625293-5b39499db644c2098ab9286ab7b1e04d.png" width="606" height="320" class="img_ev3q"></p><p>需要注意的是本地分支和远程分支不一定相同，比如说本地新建了一个分支为<code>branch1</code>，但是远程分支名是<code>branch2</code>，现在我想把本地的<code>branch1</code>设置追踪远程的<code>branch2</code>，需要使用 <code>git branch --set-upstream-to=origin/&lt;branchname&gt;</code> ，这个命令用于<strong>设置已有的本地分支跟踪一个刚刚拉取下来的远程分支</strong>，或者想要修改正在跟踪的上游分支。</p><p><img loading="lazy" alt="image-20200922125459771" src="/assets/images/image-20200922125459771-3be3547c20afc5c9834fa7b15a2a99cf.png" width="960" height="752" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-checkout">git checkout<a class="hash-link" href="#git-checkout" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 切换分支</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> checkout </span><span class="token operator">&lt;</span><span class="token plain">branchname</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 在当前分支的基础上创建本地分支</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> checkout -b </span><span class="token operator">&lt;</span><span class="token plain">newbranchname</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 在指定远程分支的基础上创建本地分支</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> checkout -b </span><span class="token operator">&lt;</span><span class="token plain">newbranchname</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">origin/branchName</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">eg:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> checkout testing</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>git checkout</code>是切换到某个分支去，使用<code>git checkout -b &lt;newbranchname&gt;</code>可以合并<code>git branch</code>和<code>git checkout</code>，即创建分支以后自动切换过去。</p><p><img loading="lazy" alt="image-20200922003023964" src="/assets/images/image-20200922003023964-06087bd259c42ba6e9cd716a42281566.png" width="462" height="158" class="img_ev3q"></p><p>然后就可以进行本地新增，修改文件等操作，通过<code>git add</code>等命令提交，然后推送的时候注意要指定分支名<code>git push origin &lt;branchname&gt;</code>，如果远程不存在分支，那么会自动新建并合并提交记录。</p><p><img loading="lazy" alt="image-20200922114037683" src="/assets/images/image-20200922114037683-74f79ccea41a50533a63243c030fdb56.png" width="733" height="258" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-merge">git merge<a class="hash-link" href="#git-merge" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> merge </span><span class="token operator">&lt;</span><span class="token plain">branchname</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong><code>git merge</code>命令是把指定分支合并到当前分支</strong>，因此如果要合并分支，首先切换到合并后的分支上去，然后使用<code>git merge &lt;branchname&gt;</code>选择要合并到当前分支的分支，需要注意合并分支并不会删除分支，要删除分支需要<code>git branch -d</code>命令。</p><p><img loading="lazy" alt="image-20200922003119053" src="/assets/images/image-20200922003119053-0464b4a32480b5e71d9829f6e5ce814a.png" width="527" height="145" class="img_ev3q"></p><p>例如使用<code>git checkout master</code>先切换到<code>master</code>分支，然后使用<code>git merge testing</code>将<code>testing</code>分支合并到<code>master</code>分支中。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> checkout master</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> merge testing</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果遇到两个仓库具有路径相同的文件合并冲突的情况，git 会暂停合并，并提示冲突信息，等待开发者手动解决冲突。例如，我们新建<code>branch3</code>和<code>branch4</code>，然后都编辑一份<code>test.js</code>文件并提交，然后在<code>branch3</code>中合并<code>branch4</code>，就出现了冲突；此时可以使用<code>git status</code>检查所有处于冲突状态的文件，如下所示：</p><p><img loading="lazy" alt="image-20200922004756041" src="/assets/images/image-20200922004756041-c47d2b41d1436fe8de049cc9b9ecf22b.png" width="601" height="272" class="img_ev3q"></p><p>然后打开文件解决冲突，解决冲突完了以后再使用<code>git add</code>和 <code>git commit</code>提交就可以了。</p><p><img loading="lazy" alt="image-20200922004924902" src="/assets/images/image-20200922004924902-e79103bcf850b1d8e5e5200099e1bf3c.png" width="570" height="208" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-rebase">git rebase<a class="hash-link" href="#git-rebase" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> rebase </span><span class="token operator">&lt;</span><span class="token plain">branchname</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> rebase --continue</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> rebase --skip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> rebase --abort</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>rebase</code>有重新设定，变基的意思，<code>git rebase</code>是<strong>把当前分支合并到指定分支去</strong></p><p>现在我们使用<code>git reset --hard HEAD~</code>取消刚才<code>git merge</code>的合并记录，现在历史提交记录已经恢复到之前的状态。</p><p><img loading="lazy" alt="image-20200922005558392" src="/assets/images/image-20200922005558392-c327b6fdd3e75e3b21c5c211c4c1b1d6.png" width="692" height="256" class="img_ev3q"></p><p>刚才是要把<code>branch4</code>合并到<code>branch3</code>中，现在我们切换到<code>branch4</code>下执行<code>git rebase branch3</code>，依然会出现冲突</p><p><img loading="lazy" alt="image-20200922010250534" src="/assets/images/image-20200922010250534-f0f3fbff6d54f624db21027049f1b52c.png" width="952" height="244" class="img_ev3q"></p><p>现在解决冲突，然后注意对于修改后的文件执行<code>git add .</code>以后，不是要去<code>git commit</code>，而是要去<code>git rebase --continue</code>，有时候<code>git rebase --continue</code>会抽风，可以使用<code>git rebase --skip</code>跳过本次提交，然后使用<code>git merge</code>再重新 merge 回主分支就行了。</p><p><img loading="lazy" alt="image-20200922011116123" src="/assets/images/image-20200922011116123-4b918550be75d062c0d7191a7563f034.png" width="864" height="496" class="img_ev3q"></p><p>可以看到<code>git rebase</code>的合并操作的提交历史很整洁。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-cherry-pick">git cherry-pick<a class="hash-link" href="#git-cherry-pick" title="标题的直接链接">​</a></h3><blockquote><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> cherry-pick </span><span class="token operator">&lt;</span><span class="token plain">commitHash</span><span class="token operator file-descriptor important">1</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">commitHash</span><span class="token operator file-descriptor important">2</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> cherry-pick </span><span class="token operator">&lt;</span><span class="token plain">commitHash</span><span class="token operator file-descriptor important">1</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token operator">&lt;</span><span class="token plain">commitHashN</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> cherry-pick -m </span><span class="token number">1</span><span class="token plain">/2 </span><span class="token operator">&lt;</span><span class="token plain">commitHash</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></blockquote><p><code>git cherry-pick</code>俗称<strong>摘樱桃</strong>，用于将任意分支的指定提交记录合并到当前分支来，例如先使用<code>git log</code>查询提交历史后，可以获取指定<code>commit</code>的<code>hash</code>值，然后就可以使用<code>git cherry-pick</code>将该<code>commit</code>合并到当前分支了</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> commit 313bj42g2jk4b4j4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果有多个提交历史需要合并，需要在多个<code>&lt;commitHash&gt;</code>之间添加空格</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> commit 313bj42g2jk4 qe98232nfewf </span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>可以使用<code>..</code>来指定一个区间范围，例如合并从<code>&lt;commitHash1&gt;</code>到<code>&lt;commitHashN&gt;</code>之间所有的提交历史</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> commit 313bj42g2jk4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">qe98232nfewf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果要合并的<code>commit</code>记录是一个两个分支<code>merge</code>的记录节点，那么<code>cherry-pick</code>会发生错误提示，要求输入<code>-m</code>参数，因为它不知道应该采用哪个分支的代码变动，通过指定<code>1</code>或者<code>2</code>来决定采用哪个分支的代码：</p><ul><li><code>1</code>表示的是采用<code>the branch being merged into</code>，也就是采用当时<code>commit</code>时候被合并到的分支；比如当时<code>commit</code>是从<code>branch1</code>合并到<code>master</code>去，那么指定<code>-m 1</code>就是采用合并时候<code>master</code>的代码</li><li><code>2</code>则表示采用<code>the branch being merged from</code>，也就是采用要合并的分支的代码</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> cherry-pick -m </span><span class="token number">1</span><span class="token plain"> 313bj42g2jk4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>git cherry-pick</code>支持以下几种参数后缀：</p><ul><li><code>-n</code>，<code>--no-commit</code>：也就是只更新工作区和暂存区，不产生新的提交</li><li><code>-x</code>：会在提交信息的末尾追加一行<code>(cherry picked from commit ...)</code>，方便以后查到这个提交是如何产生的</li><li><code>-s</code>，<code>--signoff</code>：在提交信息的末尾追加一行操作者的签名，表示是谁进行了这个操作</li></ul><p>使用<code>git cherry-pick</code>的过程一般都会有冲突，这个时候<code>cherry-pick</code>会暂停，在手动解决冲突以后，执行以下步骤：</p><ul><li><code>git add .</code>暂存所有更改</li><li><code>git cherry-pick --continue</code>：继续<code>cherry-pick</code></li></ul><p>什么情况下使用<code>cherry-pick</code>，有下面几种情况：</p><ul><li>比如你正在重构代码，然后 leader 在远程基于目前的迭代分支<code>feat-branch</code>为你开了一个新的分支<code>refactor</code>出来，用于代码重构；则你可以先把刚才开发的代码先<code>commit</code>，然后在本地基于新的重构分支<code>checkout</code>一个新的分支出来，在这个分支基础上把刚才<code>commit</code>的代码<code>cherry-pick</code>过来再合并，解决冲突什么的；最后删除过去开发的分支就行了</li><li>还有一种情况是，你本地<code>merge</code>了远端的代码并且已经推送到远端，但是你把别人最近提交的修改都干掉了，这时候首先可能想到是使用<code>git reset</code>或者<code>git revert</code>回滚远端以及本地的代码到指定版本，但是这样做最快捷的方式是你一个人默默承担这一切 🤣🤣🤣；先使用<code>git log</code>获取其他人的提交历史，然后把他们的提交记录<code>cherry-pick</code>到你当前分支上来，然后解决冲突，最后重新提交并推送到远端</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="查询历史记录">查询历史记录<a class="hash-link" href="#查询历史记录" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-log">git log<a class="hash-link" href="#git-log" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>git log</code>可以显示历史提交记录，并从最近的提交记录往前排列。</p><p><img loading="lazy" alt="image-20200922005155781" src="/assets/images/image-20200922005155781-ab3e66aa010fb968d07329f975465922.png" width="732" height="400" class="img_ev3q"></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> log --author</span><span class="token operator">=</span><span class="token operator">&lt;</span><span class="token plain">username</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>使用<code>git log --author</code>带上用户名，可以查询指定人员的提交记录</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-reflog">git reflog<a class="hash-link" href="#git-reflog" title="标题的直接链接">​</a></h3><p><code>git reflog</code>会显示本地存储库中分支的操作记录</p><p><code>98b2a91</code>等最前面的一串字符是操作记录的<code>hash</code>值，利用这个值可以在<code>git reset</code>，<code>git revert</code>等进行版本回滚操作；</p><p><code>HEAD@{2}</code>之类的表示当前<code>HEAD</code>指针在当前分支的移动次数，可以看到每提交一次代码<code>HEAD</code>就会移动一次，关于<code>HEAD</code>详细的介绍参考上文</p><p><img loading="lazy" alt="image-20201128110921828" src="/assets/images/image-20201128110921828-ca3d60282fab7060f6573bb15503b3a0.png" width="1127" height="434" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="回滚">回滚<a class="hash-link" href="#回滚" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-reset">git reset<a class="hash-link" href="#git-reset" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> reset </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">--soft </span><span class="token operator">|</span><span class="token plain"> --mixed </span><span class="token operator">|</span><span class="token plain"> --hard</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">HEAD</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> reset --soft</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> reset --hard </span><span class="token operator">&lt;</span><span class="token plain">commitHash</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">eg:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> reset --hard HEAD~</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> reset --hard 3c8j0wrwjrw0824m2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上文说到<a href="https://git-scm.com/docs/git-reset" target="_blank" rel="noopener noreferrer"><code>git reset</code></a>命令可以重置已经暂存的文件的状态，同时<code>git reset</code>也具有撤销全部修改的能力。</p><p><code>--mixed</code>为默认后缀，可以不用带该参数，即<code>git reset HEAD</code>，用于<strong>只重置暂存区</strong>的文件，也就是重置上一次<code>git add</code>的操作；那么你当前正在修改的文件就不会被重置</p><p><code>--soft</code>：只会回退版本，不会将本地工作区和暂存区的代码都一起撤销回归；</p><p><code>--hard</code>：撤销工作区，暂存区中所有未提交的修改内容，<strong>将暂存区与工作区都回到指定版本，并删除之前的所有信息提交</strong>，也就是本地改过的统统撤销</p><p><code>[HEAD]</code> 可以用来简单的表示最近的版本，如果不加<code>[HEAD]</code>直接使用则默认回退到上个<code>commit</code>的记录。</p><ul><li><p><code>HEAD^</code> 上一个版本</p></li><li><p><code>HEAD^^</code> 上上一个版本</p></li><li><p><code>HEAD^^^</code> 上上上一个版本</p></li><li><p><code>HEAD~0</code> 表示当前版本</p></li><li><p><code>HEAD~1</code> 上一个版本</p></li><li><p><code>HEAD^2</code> 上上一个版本</p></li><li><p><code>HEAD^3</code> 上上上一个版本</p></li></ul><p>例如<code>git reset --hard HEAD^</code>就是完全重置到上一个版本的提交，包括分支 merge 的记录也会重置，提交记录和本地文件都会重置到上一个版本。</p><p><img loading="lazy" alt="image-20200922135009317" src="/assets/images/image-20200922135009317-a06a8ce7fff2b27481e6da2af844fa2c.png" width="904" height="751" class="img_ev3q"></p><p>如果要回退到指定版本，需要带上指定<code>commit</code>版本的<code>hash</code>值，可以先使用<code>git log</code>查询提交历史再回滚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> log</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> reset --hard 3c8j0wrwjrw0824m2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-revert">git revert<a class="hash-link" href="#git-revert" title="标题的直接链接">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> revert </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">HEAD</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> revert </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">commit-id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果使用<code>git revert</code>也能做到重置提交的目的，例如使用<code>git revert HEAD</code>是重置到上一版本，<strong>同时会创建一个新的提交记录</strong>。注意这点是和<code>git reset</code>主要的区别，<code>git reset</code>是连提交记录都会重置，也就是说你<strong>滚回去以后就别想滚回来了</strong>，<code>git revert</code>是创建一个新的提交去覆盖之前的提交记录。</p><p><img loading="lazy" alt="image-20200922143003078" src="/assets/images/image-20200922143003078-7678cddb5d7d33751e735f34e5a3b2f7.png" width="849" height="819" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="主分支revert后无法重新提交合并的问题">主分支revert后无法重新提交合并的问题<a class="hash-link" href="#主分支revert后无法重新提交合并的问题" title="标题的直接链接">​</a></h3><p>当回滚主分支<code>master</code>以后，已经合并的其余分支如果想重新合并到<code>master</code>会无法提交 MR，这时候需要在待合并的本地分支执行以下操作：</p><ol><li>重新<code>git merge origin/master</code>，会丢失本地分支代码</li><li>执行<code>git revert [revert-hash]</code>，这里<code>revert-hash</code>是提交 revert mr 之前提交的 revert 的那条记录的 hash；这样执行完会将本地分支回滚到 mr 之前的状态</li></ol><p>执行完这两步以后就可以重新提交 mr 了。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="关联">关联<a class="hash-link" href="#关联" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git-remote-add-origin">git remote add origin<a class="hash-link" href="#git-remote-add-origin" title="标题的直接链接">​</a></h3><p>一般来说，一个项目刚开始开发的时候是现在远端创建一个仓库，然后每个人<code>clone</code>下来仓库；但是如果本地存在的项目想要上传到远端仓库怎么办呢？在执行<code>git init</code>以后再使用<code>git remote add origin</code>即可</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> init</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> remote </span><span class="token function" style="color:rgb(80, 250, 123)">add</span><span class="token plain"> origin </span><span class="token operator">&lt;</span><span class="token plain">URL</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> push origin master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>但是这样并不会建立本地当前分支和远程仓库分支的联系，之后还可以使用<code>git branch --set-upstream-to=origin/&lt;remote branch&gt; &lt;local branch&gt;</code>来建立本地分支和远程分支的关联，之后就可以直接使用<code>git push</code>而不带<code>origin &lt;branch&gt;</code>命令参数了。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> branch --set-upstream-to</span><span class="token operator">=</span><span class="token plain">origin/</span><span class="token operator">&lt;</span><span class="token plain">remote branch</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">local branch</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="image-20201128151000238" src="/assets/images/image-20201128151000238-9791663bc888f0c96736a62d4095d8d9.png" width="645" height="68" class="img_ev3q"></p><p>或者也可以直接使用<code>git push -u origin &lt;branch&gt;</code>命令来关联远程分支。</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> push -u origin branch1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="代理">代理<a class="hash-link" href="#代理" title="标题的直接链接">​</a></h2><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global https.proxy http://127.0.0.1:8080</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global http.proxy http://127.0.0.1:8080</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 取消代理</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global --unset https.proxy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global --unset http.proxy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>注意 HTTP 的端口要和代理端口保持一致。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="qa">QA<a class="hash-link" href="#qa" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="windows-crlf">windows CRLF<a class="hash-link" href="#windows-crlf" title="标题的直接链接">​</a></h3><p>windows 系统执行<code>git add</code>的时候总是会莫名其妙提示换行符的 warning</p><p><img loading="lazy" alt="image-20210116224250929" src="/assets/images/image-20210116224250929-843ce10dd2057f172c3d67b4e995dea7.png" width="711" height="180" class="img_ev3q"></p><p>这个问题在 stackoverflow 上有很高的关注量 —— <a href="https://stackoverflow.com/questions/1967370/git-replacing-lf-with-crlf" target="_blank" rel="noopener noreferrer">git-replacing-lf-with-crlf</a>，究其原因是因为不同操作系统内部对换行符的使用规则不同导致的，在 unix 和 linux 系统下，换行符使用<code>LF</code>(line feed，U+000A)来标识，但是在 DOS 和 windows 系统下使用<code>CRLF</code>(carriage return + line feed，回车+换行组合)来标识，git 对比文件差异会将换行符考虑在内，其内部也具有<code>core.autocrlf</code>这样的配置项来兼容不同操作系统，但是在 windows 上这个配置项需要在每次安装 git 以后手动执行<code>git config --global core.autocrlf</code>配置一下才行，其配置值为：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> config --global core.autocrlf </span><span class="token boolean">false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>autocrlf true</code>：提交时转换为<code>LF</code>，检出时转换为<code>CRLF</code>，linux 使用</li><li><code>autocrlf false</code>：提交检出均不转换，windows 使用</li><li><code>autocrlf input</code>：提交时转换为<code>LF</code>，检出时不转换</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wood3n/icodex-next/tree/master/docs/tools/git.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tools/URL"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">URL</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tools/nrm"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">nrm</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#head" class="table-of-contents__link toc-highlight">HEAD</a><ul><li><a href="#什么是-head" class="table-of-contents__link toc-highlight">什么是 HEAD</a></li></ul></li><li><a href="#常用" class="table-of-contents__link toc-highlight">常用</a><ul><li><a href="#git-config" class="table-of-contents__link toc-highlight">git config</a></li><li><a href="#git-clone" class="table-of-contents__link toc-highlight">git clone</a></li><li><a href="#git-add" class="table-of-contents__link toc-highlight">git add</a></li><li><a href="#git-commit" class="table-of-contents__link toc-highlight">git commit</a></li><li><a href="#git-push" class="table-of-contents__link toc-highlight">git push</a></li><li><a href="#git-fetch" class="table-of-contents__link toc-highlight">git fetch</a></li><li><a href="#git-pull" class="table-of-contents__link toc-highlight">git pull</a></li><li><a href="#git-stash" class="table-of-contents__link toc-highlight">git stash</a></li><li><a href="#git-rm" class="table-of-contents__link toc-highlight">git rm</a></li></ul></li><li><a href="#分支操作" class="table-of-contents__link toc-highlight">分支操作</a><ul><li><a href="#git-branch" class="table-of-contents__link toc-highlight">git branch</a></li><li><a href="#git-checkout" class="table-of-contents__link toc-highlight">git checkout</a></li><li><a href="#git-merge" class="table-of-contents__link toc-highlight">git merge</a></li><li><a href="#git-rebase" class="table-of-contents__link toc-highlight">git rebase</a></li><li><a href="#git-cherry-pick" class="table-of-contents__link toc-highlight">git cherry-pick</a></li></ul></li><li><a href="#查询历史记录" class="table-of-contents__link toc-highlight">查询历史记录</a><ul><li><a href="#git-log" class="table-of-contents__link toc-highlight">git log</a></li><li><a href="#git-reflog" class="table-of-contents__link toc-highlight">git reflog</a></li></ul></li><li><a href="#回滚" class="table-of-contents__link toc-highlight">回滚</a><ul><li><a href="#git-reset" class="table-of-contents__link toc-highlight">git reset</a></li><li><a href="#git-revert" class="table-of-contents__link toc-highlight">git revert</a></li><li><a href="#主分支revert后无法重新提交合并的问题" class="table-of-contents__link toc-highlight">主分支revert后无法重新提交合并的问题</a></li></ul></li><li><a href="#关联" class="table-of-contents__link toc-highlight">关联</a><ul><li><a href="#git-remote-add-origin" class="table-of-contents__link toc-highlight">git remote add origin</a></li></ul></li><li><a href="#代理" class="table-of-contents__link toc-highlight">代理</a></li><li><a href="#qa" class="table-of-contents__link toc-highlight">QA</a><ul><li><a href="#windows-crlf" class="table-of-contents__link toc-highlight">windows CRLF</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.37c10f68.js"></script>
<script src="/assets/js/main.777d231b.js"></script>
</body>
</html>