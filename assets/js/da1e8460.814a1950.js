"use strict";(self.webpackChunkicodex_next=self.webpackChunkicodex_next||[]).push([[1986],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return d}});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=r.createContext({}),p=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},s=function(e){var n=p(e.components);return r.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=p(t),d=a,g=m["".concat(c,".").concat(d)]||m[d]||u[d]||i;return t?r.createElement(g,o(o({ref:n},s),{},{components:t})):r.createElement(g,o({ref:n},s))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=m;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=t[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},88306:function(e,n,t){t.r(n),t.d(n,{assets:function(){return s},contentTitle:function(){return c},default:function(){return d},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return u}});var r=t(83117),a=t(80102),i=(t(67294),t(3905)),o=["components"],l={title:"TypeScript\u5168\u5c40\u7c7b\u578b\u5b9a\u4e49\u7684\u65b9\u5f0f",slug:"/ts-global-defination",authors:"oxygen"},c=void 0,p={permalink:"/ts-global-defination",source:"@site/blog/2024-04-01-TS\u5168\u5c40\u7c7b\u578b\u5b9a\u4e49.md",title:"TypeScript\u5168\u5c40\u7c7b\u578b\u5b9a\u4e49\u7684\u65b9\u5f0f",description:"TypeScript \u5168\u5c40\u7c7b\u578b\u5b9a\u4e49\u6216\u8005\u8986\u76d6\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\u7ecf\u5e38\u4f7f\u7528\uff0c\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u51e0\u79cd\u5e38\u89c1\u7684\u65b9\u5f0f\u3002",date:"2024-04-01T00:00:00.000Z",formattedDate:"2024\u5e744\u67081\u65e5",tags:[],readingTime:6.86,hasTruncateMarker:!0,authors:[{name:"Oxygen",title:"Front End Engineer",url:"https://github.com/wood3n",imageURL:"https://raw.githubusercontent.com/wood3n/wood3n/master/31716713.jpg",key:"oxygen"}],frontMatter:{title:"TypeScript\u5168\u5c40\u7c7b\u578b\u5b9a\u4e49\u7684\u65b9\u5f0f",slug:"/ts-global-defination",authors:"oxygen"},prevItem:{title:"shadcn-ui\u5b9e\u73b0\u539f\u7406",permalink:"/shadcn"},nextItem:{title:"IntersectionObserver API \u7528\u6cd5",permalink:"/intersection"}},s={authorsImageUrls:[void 0]},u=[{value:"\u4f7f\u7528declare global\u547d\u540d\u7a7a\u95f4",id:"\u4f7f\u7528declare-global\u547d\u540d\u7a7a\u95f4",level:2},{value:"\u4f7f\u7528declare module\u547d\u540d\u7a7a\u95f4",id:"\u4f7f\u7528declare-module\u547d\u540d\u7a7a\u95f4",level:2},{value:"\u4f7f\u7528\u5168\u5c40\u6a21\u5757\u7c7b\u578b\u58f0\u660e",id:"\u4f7f\u7528\u5168\u5c40\u6a21\u5757\u7c7b\u578b\u58f0\u660e",level:2}],m={toc:u};function d(e){var n=e.components,t=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"TypeScript \u5168\u5c40\u7c7b\u578b\u5b9a\u4e49\u6216\u8005\u8986\u76d6\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\u7ecf\u5e38\u4f7f\u7528\uff0c\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u51e0\u79cd\u5e38\u89c1\u7684\u65b9\u5f0f\u3002"),(0,i.kt)("h2",{id:"\u4f7f\u7528declare-global\u547d\u540d\u7a7a\u95f4"},"\u4f7f\u7528declare global\u547d\u540d\u7a7a\u95f4"),(0,i.kt)("p",null,"\u5728\u5305\u542b\u5728 TypeScript \u7c7b\u578b\u68c0\u6d4b\u6587\u4ef6\u76ee\u5f55\u5185\u7684\u4efb\u610f\u4f4d\u7f6e\u65b0\u5efa",(0,i.kt)("inlineCode",{parentName:"p"},"xxx.d.ts"),"\u6587\u4ef6\uff0c\u5e76\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"declare global"),"\u5168\u5c40\u547d\u540d\u7a7a\u95f4\u8bed\u6cd5\u6765\u5b9a\u4e49\u8986\u76d6\u7c7b\u578b\uff0c\u4f8b\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"declare global {\n  /*~\n   *~ \u5b9a\u4e49 String \u7c7b\u578b\u5b9e\u4f8b\u4e0a\u7684\u65b9\u6cd5\n   */\n  interface String {\n    fancyFormat(): string;\n  }\n}\n\n/* \u6587\u4ef6\u5185\u5fc5\u987b\u5305\u542b\u4e00\u4e2a export \u8bed\u53e5 */\nexport {};\n")),(0,i.kt)("p",null,"\u4e5f\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"declare global"),"\u5b9a\u4e49\u4e00\u4e9b\u5168\u5c40\u53d8\u91cf\uff0c\u5168\u5c40\u7c7b\u578b\uff0c\u5168\u5c40\u65b9\u6cd5\u7b49\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"declare global {\n  let timeout: number;\n  const version: string;\n  \n  function checkCat(c: Cat, s?: VetID);\n  \n  class Cat {\n    constructor(n: number);\n    readonly age: number;\n    purr(): void;\n  }\n  \n  interface CatSettings {\n    weight: number;\n    name: string;\n    tailLength?: number;\n  }\n  \n  /*~\n   *~ \u5b9a\u4e49 Window \u5b9e\u4f8b\u4e0a\u7684\u5c5e\u6027\u6216\u8005\u65b9\u6cd5\n   */\n  interface Window {\n    a: string;\n\n    myFn: VoidFunction;\n  }\n}\n\nexport {}\n")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"[\u6ce8\u610f]"),(0,i.kt)("p",{parentName:"admonition"},"\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"declare global"),"\u5b9a\u4e49\u5168\u5c40\u7c7b\u578b\u65f6\uff0c\u8be5\u6587\u4ef6\u5185\u90e8\u5fc5\u987b\u5305\u542b\u81f3\u5c11\u4e00\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"export"),"\u8bed\u53e5\uff01")),(0,i.kt)("h2",{id:"\u4f7f\u7528declare-module\u547d\u540d\u7a7a\u95f4"},"\u4f7f\u7528declare module\u547d\u540d\u7a7a\u95f4"),(0,i.kt)("p",null,"\u5982\u679c\u8981\u5bf9\u4e00\u4e2a\u7b2c\u4e09\u65b9\u7684\u5305\u8986\u76d6\u5176\u7c7b\u578b\u5b9a\u4e49\uff0c\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"import <module>"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"declare module"),"\u8bed\u6cd5\uff0c\u4f8b\u5982\u8986\u76d6",(0,i.kt)("inlineCode",{parentName:"p"},"axios"),"\u7684\u7c7b\u578b\u5b9a\u4e49\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"axios"),"\u5728\u5176\u5b9e\u4f8b\u65b9\u6cd5\u4e0a\u5b9a\u4e49\u7684\u7c7b\u578b\u5b58\u5728\u4e00\u4e2a\u65e0\u7528\u7684\u6cdb\u578b\u53c2\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u5728\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"get"),"\u3001",(0,i.kt)("inlineCode",{parentName:"p"},"post"),"\u7b49\u65b9\u6cd5\u65f6\u5fc5\u987b\u8981\u4f20\uff0c\u7ed9\u5f00\u53d1\u5e26\u6765\u4e86\u4e00\u4e9b\u4e0d\u4fbf\uff1b\u540c\u65f6\u9879\u76ee\u81ea\u8eab\u53ef\u80fd\u4f1a\u5bf9",(0,i.kt)("inlineCode",{parentName:"p"},"axios"),"\u8fdb\u884c\u5c01\u88c5\uff0c\u6dfb\u52a0\u4e00\u4e9b\u989d\u5916\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"config"),"\u53c2\u6570\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5728\u9879\u76ee\u4e2d\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6765\u5168\u5c40\u8986\u76d6",(0,i.kt)("inlineCode",{parentName:"p"},"axios"),"\u81ea\u8eab\u7684\u7c7b\u578b\u5b9a\u4e49\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"/*  */\nimport axios from 'axios';\n\n/**\n * \u8986\u76d6 AxiosRequestConfig\n */\ndeclare module 'axios' {\n  /**\n   * \u81ea\u5b9a\u4e49\u914d\u7f6e\u53c2\u6570\n   */\n  export interface AxiosRequestConfig {\n    /**\n     * \u5373\u65f6\u66f4\u65b0\n     */\n    useTimeStamp?: boolean;\n  }\n\n  // https://github.com/axios/axios/issues/1510#issuecomment-525382535\n  export interface AxiosInstance {\n    request<T = any> (config: AxiosRequestConfig): Promise<T>;\n    get<T = any>(url: string, config?: AxiosRequestConfig): Promise<T>;\n    delete<T = any>(url: string, config?: AxiosRequestConfig): Promise<T>;\n    head<T = any>(url: string, config?: AxiosRequestConfig): Promise<T>;\n    post<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T>;\n    put<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T>;\n    patch<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T>;\n  }\n}\n")),(0,i.kt)("h2",{id:"\u4f7f\u7528\u5168\u5c40\u6a21\u5757\u7c7b\u578b\u58f0\u660e"},"\u4f7f\u7528\u5168\u5c40\u6a21\u5757\u7c7b\u578b\u58f0\u660e"),(0,i.kt)("p",null,"\u5728\u5305\u542b\u5728 TypeScript \u7c7b\u578b\u68c0\u6d4b\u6587\u4ef6\u76ee\u5f55\u5185\u7684\u4efb\u610f\u4f4d\u7f6e\u65b0\u5efa",(0,i.kt)("inlineCode",{parentName:"p"},"xxx.d.ts"),"\u6587\u4ef6\uff0c\u5185\u90e8\u53ef\u4ee5\u968f\u610f\u5b9a\u4e49\u4efb\u4f55\u7c7b\u578b\uff0c\u4f46\u662f\u4e0d\u80fd\u5305\u542b\u4efb\u4f55",(0,i.kt)("inlineCode",{parentName:"p"},"export"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"import"),"\u8bed\u53e5\uff0c\u4f8b\u5982\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},'/*~ \n *~ \u5168\u5c40\u51fd\u6570\n */\ndeclare function myLib(a: string): string;\ndeclare function myLib(a: number): number;\n\n/*~ \n *~ \u5168\u5c40\u7c7b\u578b\n */\ninterface Person {\n  name: string;\n  age: number;\n}\n\n/*~ \n *~ \u5168\u5c40\u5bf9\u8c61\n */\ndeclare namespace myLib {\n  /*~ \n   *~ myLib.version\n   */\n  const version: string;\n  \n  /*~ \n   *~ new myLib.Cat();\n   */\n  class Cat {\n    constructor(n: number);\n    readonly age: number;\n    purr(): void;\n  }\n  \n  /*~ \n   *~ const a: myLib.CatSettings = { weight: 5, name: "Maru" };\n   */\n  interface CatSettings {\n    weight: number;\n    name: string;\n    tailLength?: number;\n  }\n  \n  /*~ \n   *~ myLib.checkCat(c, v);\n   */\n  function checkCat(c: Cat, s?: VetID);\n}\n')),(0,i.kt)("p",null,"\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5b9a\u4e49",(0,i.kt)("inlineCode",{parentName:"p"},"Window"),"\u4e0a\u7684\u53d8\u91cf\u3001\u65b9\u6cd5\u7b49\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Window {\n  a: string;\n  \n  myFn: VoidFunction;\n}\n")))}d.isMDXComponent=!0}}]);