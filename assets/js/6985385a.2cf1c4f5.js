"use strict";(self.webpackChunkicodex_next=self.webpackChunkicodex_next||[]).push([[3783],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return d}});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),s=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=s(e.components);return a.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=s(t),d=r,k=m["".concat(p,".").concat(d)]||m[d]||u[d]||i;return t?a.createElement(k,l(l({ref:n},c),{},{components:t})):a.createElement(k,l({ref:n},c))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=m;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var s=2;s<i;s++)l[s]=t[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},94517:function(e,n,t){t.r(n),t.d(n,{assets:function(){return c},contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return u}});var a=t(83117),r=t(80102),i=(t(67294),t(3905)),l=["components"],o={title:"\u5b66\u4e60vuecli\u6e90\u7801\u7684\u6536\u83b7",slug:"/learncli",authors:"oxygen"},p=void 0,s={permalink:"/learncli",source:"@site/blog/2022-02-27-\u5b66\u4e60vuecli\u6e90\u7801\u7684\u6536\u83b7.md",title:"\u5b66\u4e60vuecli\u6e90\u7801\u7684\u6536\u83b7",description:"\u4e3a\u4ec0\u4e48\u5b66\u4e60",date:"2022-02-27T00:00:00.000Z",formattedDate:"2022\u5e742\u670827\u65e5",tags:[],readingTime:11.73,hasTruncateMarker:!0,authors:[{name:"Oxygen",title:"Front End Engineer",url:"https://github.com/wood3n",imageURL:"https://raw.githubusercontent.com/wood3n/wood3n/master/31716713.jpg",key:"oxygen"}],frontMatter:{title:"\u5b66\u4e60vuecli\u6e90\u7801\u7684\u6536\u83b7",slug:"/learncli",authors:"oxygen"},prevItem:{title:"PureEsm",permalink:"/pureesm"},nextItem:{title:"vuecli\u6e90\u7801\u89e3\u6790(1)",permalink:"/2022/01/23/vuecli\u6e90\u7801\u89e3\u67901"}},c={authorsImageUrls:[void 0]},u=[{value:"\u4e3a\u4ec0\u4e48\u5b66\u4e60",id:"\u4e3a\u4ec0\u4e48\u5b66\u4e60",level:2},{value:"\u5b66\u5230\u4e86\u4ec0\u4e48",id:"\u5b66\u5230\u4e86\u4ec0\u4e48",level:2},{value:"\u63d2\u4ef6\u6a21\u5f0f\u7684\u5b9e\u73b0",id:"\u63d2\u4ef6\u6a21\u5f0f\u7684\u5b9e\u73b0",level:3},{value:"\u4e8b\u4ef6\u673a\u5236",id:"\u4e8b\u4ef6\u673a\u5236",level:3},{value:"\u4e00\u4e9bnodejs\u7684package",id:"\u4e00\u4e9bnodejs\u7684package",level:3},{value:"\u4e00\u4e9bnodejs\u7684\u5c0f\u65b9\u6cd5",id:"\u4e00\u4e9bnodejs\u7684\u5c0f\u65b9\u6cd5",level:3}],m={toc:u};function d(e){var n=e.components,t=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"\u4e3a\u4ec0\u4e48\u5b66\u4e60"},"\u4e3a\u4ec0\u4e48\u5b66\u4e60"),(0,i.kt)("p",null,"\u4e4b\u6240\u4ee5\u5b66\u4e60",(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli"),"\u7684\u6e90\u7801\uff0c\u4e3b\u8981\u662f\u6211\u4e2a\u4eba\u60f3\u63d0\u5347\u811a\u624b\u67b6\u642d\u5efa\u65b9\u9762\u7684\u80fd\u529b\uff0c\u5b66\u4e60",(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli"),"\u63d2\u4ef6\u673a\u5236\u7684\u8bbe\u8ba1\u6a21\u5f0f\u548c\u4e00\u4e9b\u811a\u624b\u67b6\u5f00\u53d1\u7684\u6280\u5de7\u3002"),(0,i.kt)("h2",{id:"\u5b66\u5230\u4e86\u4ec0\u4e48"},"\u5b66\u5230\u4e86\u4ec0\u4e48"),(0,i.kt)("p",null,"\u901a\u8fc7\u5b66\u4e60",(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli"),"\u4ece\u8f93\u5165 CLI \u547d\u4ee4\u3001\u751f\u6210\u4ee3\u7801\uff0c\u5b89\u88c5\u4f9d\u8d56\u518d\u5230\u6700\u540e\u5f00\u53d1\u73af\u5883\u6784\u5efa\u7684\u6574\u4e2a\u6d41\u7a0b\uff0c\u6211\u4e2a\u4eba\u6536\u83b7\u4e3b\u8981\u662f\u4ee5\u4e0b\u51e0\u65b9\u9762\u3002"),(0,i.kt)("h3",{id:"\u63d2\u4ef6\u6a21\u5f0f\u7684\u5b9e\u73b0"},"\u63d2\u4ef6\u6a21\u5f0f\u7684\u5b9e\u73b0"),(0,i.kt)("p",null,"\u9996\u5148\u4e3b\u8981\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli"),"\u7ea6\u5b9a\u7684\u4e00\u5957\u63d2\u4ef6\u673a\u5236\uff0c\u4e00\u4e2a\u63d2\u4ef6\u5c31\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli"),"\u4e2d\u63d2\u4ef6\u53ef\u4ee5\u7528\u6765\u4fee\u6539\u9879\u76ee",(0,i.kt)("inlineCode",{parentName:"p"},"webpack"),"\u914d\u7f6e\uff0c\u6dfb\u52a0\u9879\u76ee\u4f9d\u8d56\u5305\uff0c\u5199\u5165\u9879\u76ee\u6587\u4ef6\u4ee5\u53ca\u690d\u5165\u65b0\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli-service"),"\u7684\u547d\u4ee4\u7b49\u7b49\u3002\u5e76\u4e14\u4f7f\u7528\u7684\u63d2\u4ef6\u8fd8\u652f\u6301\u6301\u4e45\u7f13\u5b58\u5728\u672c\u5730\u76ee\u5f55\u4e0b\u4f5c\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"preset"),"\uff0c\u8fd9\u6837\u4e0b\u6b21\u8c03\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli"),"\u7684\u547d\u4ee4\u65f6\u53ef\u4ee5\u76f4\u63a5\u57fa\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"preset"),"\u5b89\u88c5\u63d2\u4ef6\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'// preset \u5185\u90e8\u4fdd\u5b58\u7684\u6570\u636e\n{\n  "useConfigFiles": true,\n  "cssPreprocessor": "sass",\n  "plugins": {\n    "@vue/cli-plugin-babel": {},\n    "@vue/cli-plugin-eslint": {\n      "config": "airbnb",\n      "lintOn": ["save", "commit"]\n    },\n    "@vue/cli-plugin-router": {},\n    "@vue/cli-plugin-vuex": {}\n  }\n}\n')),(0,i.kt)("p",null,"\u4ee5",(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli-service"),"\u4e3a\u4f8b\uff0c\u5176\u751f\u6210\u9879\u76ee\u4ee3\u7801\u7684\u8fc7\u7a0b\u7528\u7b80\u5355\u7684\u4f2a\u4ee3\u7801\u8868\u793a\u5c31\u662f\u4ee5\u4e0b\u51e0\u6b65\uff1a"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u521d\u59cb\u5316",(0,i.kt)("inlineCode",{parentName:"li"},"Creator"),"\u5b9e\u4f8b\uff0c\u4fdd\u5b58\u4e00\u4e9b",(0,i.kt)("inlineCode",{parentName:"li"},"package.json"),"\u7684\u914d\u7f6e\u9879\uff0c\u8981\u5199\u5165\u7684\u6587\u4ef6\u6a21\u677f\u6570\u636e\u7b49\uff1b")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"class Creator {\n  constructor(projectName, options) {\n    // package.json\n    this.pkg = {\n      name: projectName,\n      private: true,\n      devDependencies: {}\n    };\n    // \u5f85\u6267\u884c\u7684\u63d2\u4ef6\n    this.plugins = [];\n    // \u5f85\u751f\u6210\u7684\u6587\u4ef6\n    this.files = {};\n    // CLI \u9009\u9879\n    this.options = options;\n  }\n  \n  // \u62d3\u5c55 package.json\n  extendPackage = (fields) => {\n    \n  }\n  \n  // \u63d2\u5165\u5f85\u751f\u6210\u6587\u4ef6\n  render = (source\uff0cdata) => {\n    \n  }\n} \n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"\u83b7\u53d6\u6307\u5b9a",(0,i.kt)("inlineCode",{parentName:"li"},"preset"),"\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u7684\u8bdd\u5c31\u8ba9\u7528\u6237\u9009\u62e9",(0,i.kt)("inlineCode",{parentName:"li"},"preset"),"\uff0c\u5e76\u5c06",(0,i.kt)("inlineCode",{parentName:"li"},"preset"),"\u5185\u90e8\u7684",(0,i.kt)("inlineCode",{parentName:"li"},"plugin"),"\u5199\u5165",(0,i.kt)("inlineCode",{parentName:"li"},"package.json"),"\u7684",(0,i.kt)("inlineCode",{parentName:"li"},"dependencies"),"\u5185\u90e8")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"resolvePreset = () => {\n  let preset;\n  \n  if (this.options.preset) {\n    const preset = load(this.options.preset);\n  } else {\n        const answers = inquirer.prompt({\n      name: 'preset',\n      type: 'list',\n      message: `Please pick a preset:`,\n      choices: [\n        {\n          name: 'Default (Vue 2)',\n          value: 'Default (Vue 2)'\n        },\n        {\n          name: 'Default (Vue 3)',\n          value: 'Default (Vue 3)'\n        },\n        {\n          name: 'Manually select features',\n          value: '__manual__'\n        }\n      ]\n    });\n  \n    preset = answers[preset];\n  }\n\n  const deps = Object.keys(preset.plugins);\n  deps.forEach(dep => {\n    this.plugins.push(dep);\n    this.pkg.devDependencies[dep] = preset.plugins[dep];\n  })\n}\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"\u751f\u6210",(0,i.kt)("inlineCode",{parentName:"li"},"package.json"),"\u6587\u4ef6")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"fs.writeFileSync(\n  path.join(path.cwd(), 'package.json'), \n  JSON.stringify(pkg, null, 2), \n  'utf8'\n);\n")),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"\u5b89\u88c5\u521d\u59cb",(0,i.kt)("inlineCode",{parentName:"li"},"plugin"),"\u4f9d\u8d56")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"shelljs.exec('npm install');\n")),(0,i.kt)("ol",{start:5},(0,i.kt)("li",{parentName:"ol"},"\u521d\u59cb\u5316",(0,i.kt)("inlineCode",{parentName:"li"},"GeneratorAPI"),"\u5b9e\u4f8b\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"GeneratorAPI"),"\u5b9e\u4f8b\u4f20\u5165",(0,i.kt)("inlineCode",{parentName:"li"},"plugin"),"\u5185\u90e8\u7684",(0,i.kt)("inlineCode",{parentName:"li"},"generator"),"\u51fd\u6570\u6765\u62d3\u5c55",(0,i.kt)("inlineCode",{parentName:"li"},"Creator"),"\u5b9e\u4f8b\u7684\u5f85\u751f\u6210\u6587\u4ef6")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// vue-cli-service \u5185\u90e8 generator/index.js\nmodule.exports = (api, options) => {\n  api.render('./template', {\n    doesCompile: api.hasPlugin('babel') || api.hasPlugin('typescript'),\n    useBabel: api.hasPlugin('babel')\n  })\n  \n  api.extendPackage({\n    scripts: {\n      'serve': 'vue-cli-service serve',\n      'build': 'vue-cli-service build'\n    },\n    browserslist: [\n      '> 1%',\n      'last 2 versions',\n      'not dead',\n      ...(options.vueVersion === '3' ? ['not ie 11'] : [])\n    ]\n  })\n}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// GeneratorAPI \u63d2\u4ef6\u5b9e\u4f8b\nclass GeneratorAPI {\n  constructor(creator) {\n    this.creator = generator;\n  }\n  \n  /**\n   * \u4ece\u5b89\u88c5\u63d2\u4ef6\u7684\u8def\u5f84\u4e2d\u751f\u6210\u5e76\u6e32\u67d3\u6a21\u677f\u6587\u4ef6\n   * @param templatePath\n   * @param data\n   */\n  render = (path, data) => {\n    this.creator.renderTemplate(path, data);\n  };\n\n  /**\n   * \u62d3\u5c55package.json\u5b57\u6bb5\n   * @param pkg\n   */\n  extendPkg = (pkg) => {\n    this.creator.extendPkg(pkg);\n  };\n}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// \u8c03\u7528\u63d2\u4ef6\nresolvePlugins = () => {\n  this.plugins.forEach(plugin => {\n    const apply = require(`${plugin}/generator`);\n    apply(new GeneratorAPI(this))\n  });\n}\n")),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},"\u518d\u6b21\u5b89\u88c5\u4f9d\u8d56")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"shelljs.exec('npm install');\n")),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},"\u751f\u6210\u9879\u76ee\u6587\u4ef6")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"writeFileTree(this.files)\n")),(0,i.kt)("p",null,"\u5f53\u7136\u4e86\uff0c\u8fd9\u4e2a\u53ea\u662f\u7b80\u5316\u7684\u7248\u672c\uff0c\u5b9e\u9645\u4e0a",(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli"),"\u5185\u90e8\u4f1a\u518d\u901a\u8fc7\u4e00\u4e2a\u4e2d\u95f4\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"Generator"),"\u5b9e\u4f8b\u6765\u7ba1\u7406\u6240\u6709\u63d2\u4ef6\uff0c\u5e76\u4e0d\u4f1a\u5b8c\u5168\u653e\u5728\u4e3b\u7a0b\u5e8f",(0,i.kt)("inlineCode",{parentName:"p"},"Creator"),"\u5185\u90e8\uff0c\u800c",(0,i.kt)("inlineCode",{parentName:"p"},"GeneratorAPI"),"\u5219\u7ba1\u7406\u6240\u6709\u6ce8\u5165\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"plugin"),"\u7684\u65b9\u6cd5\u3002\u8fd9\u6837\u6bcf\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"class"),"\u5185\u90e8\u5404\u53f8\u5176\u8d23\uff0c\u4f7f\u5f97\u540e\u7eed\u7ef4\u62a4\u66f4\u52a0\u65b9\u4fbf\u3002"),(0,i.kt)("h3",{id:"\u4e8b\u4ef6\u673a\u5236"},"\u4e8b\u4ef6\u673a\u5236"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli"),"\u5185\u90e8\u4e3b\u7a0b\u5e8f",(0,i.kt)("inlineCode",{parentName:"p"},"Creator"),"\u7ee7\u627f\u4e86 NodeJS \u7684",(0,i.kt)("inlineCode",{parentName:"p"},"EventEmitter"),"\uff0c\u7136\u540e\u5728\u7a0b\u5e8f\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\u66b4\u9732\u4e00\u4e9b\u4e8b\u4ef6\u56de\u8c03\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"EventEmitter"),"\u6bd4\u8f83\u7b80\u5355\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"on"),"\u51fd\u6570\u7528\u4e8e\u7ed1\u5b9a\u4e8b\u4ef6\u51fd\u6570\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"emit"),"\u5c5e\u6027\u7528\u4e8e\u89e6\u53d1\u4e00\u4e2a\u4e8b\u4ef6\u3002",(0,i.kt)("inlineCode",{parentName:"p"},"emit"),"\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u6307\u5b9a\u4e8b\u4ef6\u540d\u79f0\uff0c\u540e\u7eed\u53c2\u6570\u5c06\u4f20\u5165\u56de\u8c03\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"this.emit('creation', { event: 'creating' });\nthis.emit('creation', { event: 'git-init' })\nthis.emit('creation', { event: 'plugins-install' })\nthis.emit('creation', { event: 'invoking-generators' })\nthis.emit('creation', { event: 'deps-install' })\nthis.emit('creation', { event: 'completion-hooks' })\nthis.emit('creation', { event: 'done' })\n")),(0,i.kt)("p",null,"\u8fd9\u6837\u540e\u7eed\u5728\u5176\u4ed6\u63d2\u4ef6\u5185\u90e8\u53ef\u4ee5\u901a\u8fc7\u521b\u5efa",(0,i.kt)("inlineCode",{parentName:"p"},"Creator"),"\u5b9e\u4f8b\u6765\u6ce8\u5165\u56de\u8c03\u51fd\u6570\uff0c\u4f8b\u5982"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"  const creator = new Creator();\n\n  const onCreationEvent = ({ event }) => {\n    progress.set({ id: PROGRESS_ID, status: event, info: null }, context)\n  }\n  creator.on('creation', onCreationEvent)\n")),(0,i.kt)("h3",{id:"\u4e00\u4e9bnodejs\u7684package"},"\u4e00\u4e9bnodejs\u7684package"),(0,i.kt)("p",null,"\u4e00\u822c\u8fd9\u79cd NodeJS CLI \u90fd\u4f1a\u5927\u91cf\u4f7f\u7528\u4e00\u4e9b\u7b2c\u4e09\u65b9",(0,i.kt)("inlineCode",{parentName:"p"},"package"),"\u6765\u7b80\u5316\u5f00\u53d1\u903b\u8f91\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli"),"\u5185\u90e8\u4e5f\u4e0d\u4e4f\u4e00\u4e9b\u7ecf\u5e38\u4f7f\u7528\u7684\u4f18\u8d28\u7b2c\u4e09\u65b9\u5f00\u6e90\u9879\u76ee\uff0c\u4f8b\u5982",(0,i.kt)("inlineCode",{parentName:"p"},"fs-extra"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"chalk"),"\u7b49\u8fd9\u4e9b\uff0c\u5c31\u4e0d\u5168\u90e8\u5217\u4e3e\u4e86\u3002"),(0,i.kt)("h3",{id:"\u4e00\u4e9bnodejs\u7684\u5c0f\u65b9\u6cd5"},"\u4e00\u4e9bnodejs\u7684\u5c0f\u65b9\u6cd5"),(0,i.kt)("p",null,"\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"vue-cli"),"\u5185\u90e8\u6709\u4e00\u4e9b\u901a\u7528\u65b9\u6cd5\u53ef\u4ee5\u76f4\u63a5\u62ff\u8fc7\u6765\u7528\uff0c\u540e\u7eed\u6211\u6253\u7b97\u62bd\u6210\u4e00\u4e2a\u5355\u72ec\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"node-util")," npm \u5305\u7684\u5f62\u5f0f\uff0c\u6574\u7406\u4e00\u4e9b\u5e38\u7528\u7684 NodeJS \u65b9\u6cd5\uff0c\u8fd9\u6837\u4ee5\u540e\u7ef4\u62a4\u6bd4\u8f83\u65b9\u4fbf\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// \u521b\u5efa\u6587\u4ef6\u5939\u5e76\u5199\u5165\u6587\u4ef6\nconst fs = require('fs-extra')\n\nfunction writeFileTree (dir, files, include) {\n  Object.keys(files).forEach((name) => {\n    if (include && !include.has(name)) return\n    const filePath = path.join(dir, name)\n    fs.ensureDirSync(path.dirname(filePath))\n    fs.writeFileSync(filePath, files[name])\n  })\n}\n")))}d.isMDXComponent=!0}}]);