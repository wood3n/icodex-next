"use strict";(self.webpackChunkicodex_next=self.webpackChunkicodex_next||[]).push([[4690],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return k}});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=a.createContext({}),o=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},m=function(e){var t=o(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,i=e.originalType,s=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),u=o(n),k=l,c=u["".concat(s,".").concat(k)]||u[k]||d[k]||i;return n?a.createElement(c,r(r({ref:t},m),{},{components:n})):a.createElement(c,r({ref:t},m))}));function k(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=n.length,r=new Array(i);r[0]=u;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:l,r[1]=p;for(var o=2;o<i;o++)r[o]=n[o];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},92917:function(e,t,n){n.r(t),n.d(t,{assets:function(){return m},contentTitle:function(){return s},default:function(){return k},frontMatter:function(){return p},metadata:function(){return o},toc:function(){return d}});var a=n(83117),l=n(80102),i=(n(67294),n(3905)),r=["components"],p={title:"\u642d\u5efa React \u9879\u76ee\uff083\uff09"},s=void 0,o={unversionedId:"engineer/\u57fa\u4e8ewebpack\u642d\u5efareact\u9879\u76ee/\u642d\u5efaReact\u9879\u76ee\uff083\uff09",id:"engineer/\u57fa\u4e8ewebpack\u642d\u5efareact\u9879\u76ee/\u642d\u5efaReact\u9879\u76ee\uff083\uff09",title:"\u642d\u5efa React \u9879\u76ee\uff083\uff09",description:"\u7ba1\u7406\u6a21\u5757",source:"@site/docs/engineer/\u57fa\u4e8ewebpack\u642d\u5efareact\u9879\u76ee/\u642d\u5efaReact\u9879\u76ee\uff083\uff09.md",sourceDirName:"engineer/\u57fa\u4e8ewebpack\u642d\u5efareact\u9879\u76ee",slug:"/engineer/\u57fa\u4e8ewebpack\u642d\u5efareact\u9879\u76ee/\u642d\u5efaReact\u9879\u76ee\uff083\uff09",permalink:"/docs/engineer/\u57fa\u4e8ewebpack\u642d\u5efareact\u9879\u76ee/\u642d\u5efaReact\u9879\u76ee\uff083\uff09",draft:!1,editUrl:"https://github.com/wood3n/icodex-next/tree/master/docs/engineer/\u57fa\u4e8ewebpack\u642d\u5efareact\u9879\u76ee/\u642d\u5efaReact\u9879\u76ee\uff083\uff09.md",tags:[],version:"current",frontMatter:{title:"\u642d\u5efa React \u9879\u76ee\uff083\uff09"},sidebar:"engineer",previous:{title:"\u642d\u5efa React \u9879\u76ee\uff082\uff09",permalink:"/docs/engineer/\u57fa\u4e8ewebpack\u642d\u5efareact\u9879\u76ee/\u642d\u5efaReact\u9879\u76ee\uff082\uff09"},next:{title:"\u642d\u5efa React \u9879\u76ee\uff084\uff09",permalink:"/docs/engineer/\u57fa\u4e8ewebpack\u642d\u5efareact\u9879\u76ee/\u642d\u5efaReact\u9879\u76ee\uff084\uff09"}},m={},d=[{value:"\u7ba1\u7406\u6a21\u5757",id:"\u7ba1\u7406\u6a21\u5757",level:2},{value:"module",id:"module",level:3},{value:"\u5904\u7406 HTML",id:"\u5904\u7406-html",level:2},{value:"HtmlWebpackPlugin",id:"htmlwebpackplugin",level:3},{value:"\u914d\u7f6e\u9879",id:"\u914d\u7f6e\u9879",level:4},{value:"\u6a21\u677f\u914d\u7f6e",id:"\u6a21\u677f\u914d\u7f6e",level:3},{value:"\u5904\u7406 CSS",id:"\u5904\u7406-css",level:2},{value:"style-loader \u548c css-loader",id:"style-loader-\u548c-css-loader",level:3},{value:"style-loader \u914d\u7f6e",id:"style-loader-\u914d\u7f6e",level:4},{value:"css-loader \u914d\u7f6e",id:"css-loader-\u914d\u7f6e",level:4},{value:"postcss-loader",id:"postcss-loader",level:3},{value:"\u63d0\u53d6 CSS \u6587\u4ef6",id:"\u63d0\u53d6-css-\u6587\u4ef6",level:3},{value:"\u79fb\u9664\u65e0\u7528\u7684 CSS",id:"\u79fb\u9664\u65e0\u7528\u7684-css",level:3},{value:"\u538b\u7f29 CSS \u4ee3\u7801",id:"\u538b\u7f29-css-\u4ee3\u7801",level:3},{value:"\u5904\u7406\u56fe\u7247",id:"\u5904\u7406\u56fe\u7247",level:2},{value:"file-loader",id:"file-loader",level:3},{value:"\u914d\u7f6e\u8f93\u51fa\u76ee\u5f55",id:"\u914d\u7f6e\u8f93\u51fa\u76ee\u5f55",level:4},{value:"url-loader",id:"url-loader",level:3},{value:"Data URLs",id:"data-urls",level:4},{value:"url-loader \u914d\u7f6e",id:"url-loader-\u914d\u7f6e",level:4},{value:"\u5904\u7406 SVG",id:"\u5904\u7406-svg",level:3},{value:"SVG \u6a21\u5757",id:"svg-\u6a21\u5757",level:4},{value:"SVG \u7ec4\u4ef6",id:"svg-\u7ec4\u4ef6",level:4},{value:"svg-sprite",id:"svg-sprite",level:4},{value:"svg-sprite-loader",id:"svg-sprite-loader",level:4},{value:"\u56fe\u7247\u538b\u7f29",id:"\u56fe\u7247\u538b\u7f29",level:3},{value:"\u5904\u7406\u5b57\u4f53",id:"\u5904\u7406\u5b57\u4f53",level:2},{value:"\u5b57\u4f53\u538b\u7f29",id:"\u5b57\u4f53\u538b\u7f29",level:3}],u={toc:d};function k(e){var t=e.components,p=(0,l.Z)(e,r);return(0,i.kt)("wrapper",(0,a.Z)({},u,p,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"\u7ba1\u7406\u6a21\u5757"},"\u7ba1\u7406\u6a21\u5757"),(0,i.kt)("h3",{id:"module"},"module"),(0,i.kt)("p",null,"\u5728 webpack \u4e2d\uff0c\u6bcf\u4e2a\u6587\u4ef6\u90fd\u662f\u4e00\u4e2a\u6a21\u5757\uff0c\u9664\u4e86 webpack \u8ba4\u8bc6\u7684 JS \u548c JSON \u6587\u4ef6\uff0cCSS\uff0c\u56fe\u7247\u7b49\u90fd\u662f\u6a21\u5757\uff0c\u6a21\u5757\u4e4b\u95f4\u901a\u8fc7\u4e0d\u540c\u65b9\u5f0f\u7684\u8bed\u6cd5\u4f1a\u4ea7\u751f\u4f9d\u8d56\u5173\u7cfb\uff0c\u4f8b\u5982\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"ES6+\u7684",(0,i.kt)("inlineCode",{parentName:"li"},"import"),"\uff1b"),(0,i.kt)("li",{parentName:"ul"},"CommonJS \u7684",(0,i.kt)("inlineCode",{parentName:"li"},"require"),"\uff1b"),(0,i.kt)("li",{parentName:"ul"},"AMD \u7684",(0,i.kt)("inlineCode",{parentName:"li"},"define"),"\u548c",(0,i.kt)("inlineCode",{parentName:"li"},"require"),"\uff1b"),(0,i.kt)("li",{parentName:"ul"},"css/sass/less \u6587\u4ef6\u4e2d\u7684",(0,i.kt)("inlineCode",{parentName:"li"},"@import"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"li"},"url(...)"),"\uff1b"),(0,i.kt)("li",{parentName:"ul"},"html \u6587\u4ef6\u4e2d\u53ef\u66ff\u6362\u5143\u7d20\u7684",(0,i.kt)("inlineCode",{parentName:"li"},"src"),"\u5c5e\u6027")),(0,i.kt)("p",null,"webpack \u901a\u8fc7",(0,i.kt)("strong",{parentName:"p"},"loader"),"\u6765\u652f\u6301\u591a\u79cd\u8bed\u8a00\u548c\u9884\u5904\u7406\u5668\u8bed\u6cd5\u7f16\u5199\u7684\u6a21\u5757\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5904\u7406\u5404\u79cd\u975e JS \u5185\u5bb9\u3002"),(0,i.kt)("h2",{id:"\u5904\u7406-html"},"\u5904\u7406 HTML"),(0,i.kt)("h3",{id:"htmlwebpackplugin"},"HtmlWebpackPlugin"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/jantimon/html-webpack-plugin"},"html-webpack-plugin"))),(0,i.kt)("p",null,"\u4e4b\u524d\u7684\u914d\u7f6e\u662f\u76f4\u63a5\u5728 webpack \u7684\u6253\u5305\u8f93\u51fa\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a html \u9875\u9762\uff0c\u5e76\u624b\u52a8\u5f15\u5165 webpack \u8f93\u51fa\u7684 JS \u6587\u4ef6\u3002\u5c3d\u7ba1\u5f15\u5165\u4e86 WDS\uff0c\u53ef\u4ee5\u81ea\u52a8\u6253\u5f00\u5e76\u5237\u65b0\u9875\u9762\uff0c\u4f46\u662f\u8fd9\u53ea\u662f\u4e00\u4e2a bundle \u6587\u4ef6\u7684\u60c5\u51b5\uff0c\u5982\u679c\u9879\u76ee\u6a21\u5757\u589e\u591a\uff0c\u9700\u8981\u591a\u4e2a bundle \u65f6\uff0c\u81ea\u7136\u65e0\u6cd5\u518d\u624b\u52a8\u5c06 bundle \u6587\u4ef6\u6dfb\u52a0\u5230 html \u4e2d\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u63d2\u4ef6\u80fd\u591f\u5c06 bundle \u6587\u4ef6\u81ea\u52a8\u6dfb\u52a0\u5230 html \u4e2d\u3002"),(0,i.kt)("p",null,"HtmlWebpackPlugin \u662f\u5728 webpack \u6253\u5305\u8fc7\u7a0b\u4e2d\u81ea\u52a8\u751f\u6210 html \u9875\u9762\uff0c\u5e76\u4e14\u81ea\u52a8\u5c06\u8d44\u6e90\u6587\u4ef6\uff0c\u4f8b\u5982 webpack \u6253\u5305\u8f93\u51fa\u7684 JS \u6587\u4ef6\u63d2\u5165\u5230 html \u9875\u9762\u4e2d\u7684\u63d2\u4ef6\u3002\u6839\u636e\u914d\u7f6e\uff0c\u8fd9\u4e2a\u63d2\u4ef6\u8fd8\u80fd\u652f\u6301\u6839\u636e\u81ea\u5b9a\u4e49\u7684\u6a21\u677f\u6765\u751f\u6210 html \u6587\u4ef6\uff0c\u6216\u8005\u6839\u636e",(0,i.kt)("inlineCode",{parentName:"p"},"ejs"),"\u7684\u8bed\u6cd5\u89c4\u5219\u6765\u66ff\u6362\u4e00\u4e9b\u53d8\u91cf\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add html-webpack-plugin -D\n")),(0,i.kt)("h4",{id:"\u914d\u7f6e\u9879"},"\u914d\u7f6e\u9879"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"\u914d\u7f6e\u9879"),(0,i.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,i.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,i.kt)("th",{parentName:"tr",align:null},"\u7528\u6cd5"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"title")),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"Webpack App")),(0,i.kt)("td",{parentName:"tr",align:null},"html \u7684 title")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"filename")),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"'index.html'")),(0,i.kt)("td",{parentName:"tr",align:null},"\u751f\u4ea7\u7684 html \u9875\u9762\u7684\u6587\u4ef6\u540d")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"template")),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"src/index.ejs")),(0,i.kt)("td",{parentName:"tr",align:null},"\u6a21\u677f\u9875\u9762\uff0c\u5982\u679c\u5b58\u5728",(0,i.kt)("inlineCode",{parentName:"td"},"src/index.ejs"),"\u5c31\u662f\u7528\u5b83")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"templateContent")),(0,i.kt)("td",{parentName:"tr",align:null},"String","|","Function","|",(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"\u4ee3\u66ff\u6a21\u677f\u4f7f\u7528\u4ee5\u63d0\u4f9b\u5d4c\u5165\u5f0f\u6a21\u677f")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"templateParameters")),(0,i.kt)("td",{parentName:"tr",align:null},"Boolean","|","Object","|","Function"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"\u8986\u76d6\u6a21\u677f\u4e2d\u4f7f\u7528\u7684\u53c2\u6570")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"inject")),(0,i.kt)("td",{parentName:"tr",align:null},"`true"),(0,i.kt)("td",{parentName:"tr",align:null},"false",(0,i.kt)("inlineCode",{parentName:"td"}," <br />"),"'head'"),(0,i.kt)("td",{parentName:"tr",align:null},"'body'`")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"scriptLoading")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"'blocking'")," ",(0,i.kt)("br",null),(0,i.kt)("inlineCode",{parentName:"td"},"'defer'")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"'blocking'")),(0,i.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e JS \u52a0\u8f7d\u7684\u65b9\u5f0f")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"favicon")),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"``"),(0,i.kt)("td",{parentName:"tr",align:null},"\u5c06\u7ed9\u5b9a\u7684 favicon \u8def\u5f84\u6dfb\u52a0\u5230 html \u4e2d")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"meta")),(0,i.kt)("td",{parentName:"tr",align:null},"Object"),(0,i.kt)("td",{parentName:"tr",align:null},"{ }"),(0,i.kt)("td",{parentName:"tr",align:null},"\u4e3a html \u6a21\u677f\u9875\u9762\u6dfb\u52a0 meta\uff0c\u53c2\u89c1 \u2014\u2014 ",(0,i.kt)("a",{parentName:"td",href:"https://github.com/joshbuchea/HEAD#meta"},"HEAD#meta"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"base")),(0,i.kt)("td",{parentName:"tr",align:null},"Object","|","String ","|"," ",(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"\u4e3a html \u6a21\u677f\u9875\u9762\u6dfb\u52a0 base \u6807\u7b7e")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"minify")),(0,i.kt)("td",{parentName:"tr",align:null},"Boolean ","|"," Object"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")),(0,i.kt)("td",{parentName:"tr",align:null},"\u6839\u636e webpack \u7684",(0,i.kt)("inlineCode",{parentName:"td"},"mode"),"\u914d\u7f6e\u6765\u5224\u65ad\u5f53\u524d\u73af\u5883\uff0c\u7531\u4e8e",(0,i.kt)("inlineCode",{parentName:"td"},"mode"),"\u9ed8\u8ba4\u662f",(0,i.kt)("inlineCode",{parentName:"td"},"production"),"\u751f\u4ea7\u73af\u5883\uff0c\u6240\u4ee5\u8fd9\u4e2a\u503c\u9ed8\u8ba4\u4e5f\u662f",(0,i.kt)("inlineCode",{parentName:"td"},"true"),"\uff0c\u4e5f\u5c31\u662f\u5bf9 html \u8fdb\u884c\u538b\u7f29\uff1b\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u5bf9\u8c61\u6765\u914d\u7f6e\u5177\u4f53\u7684\u538b\u7f29\u9879\u76ee\uff0c\u53c2\u89c1 \u2014\u2014 ",(0,i.kt)("a",{parentName:"td",href:"https://github.com/jantimon/html-webpack-plugin#minification"},"minification"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"hash")),(0,i.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5982\u679c\u4e3a",(0,i.kt)("inlineCode",{parentName:"td"},"true"),"\uff0c\u5219\u5c06\u552f\u4e00\u7684 webpack \u7f16\u8bd1\u54c8\u5e0c\u503c\u9644\u52a0\u5230\u6240\u6709\u5305\u542b\u7684\u811a\u672c\u548c CSS \u6587\u4ef6\u4e2d\u3002\u8fd9\u5bf9\u4e8e\u6e05\u9664\u7f13\u5b58\u5f88\u6709\u7528")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"cache")),(0,i.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")),(0,i.kt)("td",{parentName:"tr",align:null},"\u4ec5\u5728\u6587\u4ef6\u6539\u53d8\u65f6\u91cd\u65b0\u751f\u6210")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"showErrors")),(0,i.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")),(0,i.kt)("td",{parentName:"tr",align:null},"\u9519\u8bef\u8be6\u7ec6\u4fe1\u606f\u5c06\u5199\u5165 HTML \u9875\u9762")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"chunks")),(0,i.kt)("td",{parentName:"tr",align:null},"Array of String"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"?")),(0,i.kt)("td",{parentName:"tr",align:null},"\u81ea\u5b9a\u4e49\u6dfb\u52a0\u7684\u6a21\u5757")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"chunksSortMode")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"none"'),(0,i.kt)("br",null),(0,i.kt)("inlineCode",{parentName:"td"},'"auto"'),(0,i.kt)("br",null),(0,i.kt)("inlineCode",{parentName:"td"},'"manual"'),(0,i.kt)("br",null),"Function"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"auto"')),(0,i.kt)("td",{parentName:"tr",align:null},"\u5141\u8bb8\u63a7\u5236\u5728\u5c06\u5757\u5305\u542b\u5230 HTML \u4e2d\u4e4b\u524d\u5e94\u5982\u4f55\u5bf9\u5176\u8fdb\u884c\u6392\u5e8f")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"excludeChunks")),(0,i.kt)("td",{parentName:"tr",align:null},"Array of String"),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"\u6253\u5305\u65f6\u5ffd\u7565\u7684\u6a21\u5757\uff0c\u4f8b\u5982\u6d4b\u8bd5\u6a21\u5757\u7b49")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"xhtml")),(0,i.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5982\u679c\u8bbe\u7f6e\u6210",(0,i.kt)("inlineCode",{parentName:"td"},"true"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"td"},"link"),"\u6807\u7b7e\u7684\u63d2\u5165\u5f62\u5f0f\u5c06\u662f\u81ea\u52a8\u95ed\u5408\u7684\u5f62\u5f0f\uff0c\u4e5f\u5c31\u662f\u95ed\u5408\u7684\u7bad\u5934\u62ec\u53f7\u524d\u591a\u4e00\u4e2a\u659c\u6760")))),(0,i.kt)("h3",{id:"\u6a21\u677f\u914d\u7f6e"},"\u6a21\u677f\u914d\u7f6e"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/jantimon/html-webpack-plugin#writing-your-own-templates"},"Writing Your Own Templates"))),(0,i.kt)("p",null,"\u5982\u679c\u4e0d\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684\u6a21\u677f\uff0cHtmlWebpackPlugin \u914d\u7f6e\u6700\u7b80\u5355\uff0c\u76f4\u63a5",(0,i.kt)("inlineCode",{parentName:"p"},"new HtmlWebpackPlugin()"),"\u5c31\u53ef\u4ee5\u4e86\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'const HtmlWebpackPlugin = require("html-webpack-plugin");\n\nmodule.exports = {\n  ...\n  plugins: [new HtmlWebpackPlugin()],\n}\n')),(0,i.kt)("p",null,"\u4f46\u662f\u5b9e\u9645\u9879\u76ee\u5f80\u5f80\u57fa\u672c\u90fd\u9700\u8981\u81ea\u5b9a\u4e49\u6a21\u677f\uff0cHtmlWebpackPlugin \u53ef\u4ee5\u6839\u636e\u81ea\u5b9a\u4e49\u7684\u6a21\u677f\u6765\u751f\u6210 html \u6587\u4ef6\uff0c\u5e76\u5c06 webpack \u7684\u8f93\u51fa\u8d44\u6e90\u63d2\u5165\u5230 html \u9875\u9762\u4e2d\u3002"),(0,i.kt)("p",null,"HtmlWebpackPlugin \u672c\u8eab\u5185\u7f6e\u8bc6\u522b",(0,i.kt)("inlineCode",{parentName:"p"},".ejs"),"\u6587\u4ef6\u7684 loader\uff0c\u5982\u679c\u4f60\u7684\u6a21\u677f\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},".ejs"),"\u6765\u5b9a\u4e49\uff0c\u90a3\u4e48\u5c31\u65e0\u9700\u5b89\u88c5\u5176\u4ed6 loader \u4e86\u3002\u5f53\u7136\u4e86\uff0cHtmlWebpackPlugin \u4e5f\u63d0\u4f9b\u4e86\u8bb8\u591a\u5176\u5b83\u7c7b\u578b\u7684\u6a21\u677f\u53ef\u4ee5\u9009\u62e9\uff0c\u53c2\u89c1 \u2014\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/jantimon/html-webpack-plugin/blob/master/docs/template-option.md#the-template-option"},"template option"),"\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5982\u679c\u6ca1\u6709\u4e3a\u6a21\u677f\u6587\u4ef6\u6307\u5b9a\u4efb\u4f55 loader\uff0c\u9ed8\u8ba4\u4f7f\u7528\u5185\u7f6e\u7684 loader\uff1b"),(0,i.kt)("li",{parentName:"ul"},"\u5982\u679c\u5728",(0,i.kt)("inlineCode",{parentName:"li"},"template"),"\u8fd9\u4e2a\u914d\u7f6e\u9879\u4e2d\u6839\u636e\u8bed\u6cd5\u4e3a\u7279\u5b9a\u7684\u6a21\u677f\u6587\u4ef6\u6307\u5b9a loader\uff0c\u90a3\u4e48\u5c31\u4f7f\u7528\u90a3\u4e2a\u6307\u5b9a\u7684 loader\uff1b"),(0,i.kt)("li",{parentName:"ul"},"\u5982\u679c\u5728",(0,i.kt)("inlineCode",{parentName:"li"},"webpack.config.js"),"\u4e2d\u6307\u5b9a\u76f8\u5e94\u7684 loader \u6765\u5339\u914d\u6587\u4ef6\u7c7b\u578b\uff0c\u90a3\u4e48\u5c31\u4f1a\u7981\u7528\u5185\u7f6e\u7684 loader")),(0,i.kt)("p",null,"\u63a5\u4e0b\u6765\u65b0\u5efa\u4e00\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"public"),"\u6587\u4ef6\u5939\uff0c\u5c06\u4e4b\u524d dist \u76ee\u5f55\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"index.html"),"\u79fb\u5165\u5176\u4e2d\uff0c\u7136\u540e\u628a",(0,i.kt)("inlineCode",{parentName:"p"},"<body>"),"\u91cc\u4e4b\u524d\u5f15\u5165\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"main.js"),"\u5e72\u6389\uff0c\u5c06\u8fd9\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"index.html"),"\u4f5c\u4e3a\u6a21\u677f\u9875\u9762\u914d\u7f6e\u5728 HtmlWebpackPlugin \u4e2d\uff0c\u7136\u540e\u518d\u628a dist \u76ee\u5f55\u5220\u6389\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'const HtmlWebpackPlugin = require("html-webpack-plugin");\n\nmodule.exports = {\n  ...\n  plugins: [new HtmlWebpackPlugin({\n    template:"./public/index.html"\n  })],\n}\n')),(0,i.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u9700\u8981\u5c06 webpack-dev-server \u914d\u7f6e\u91cc\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"contentBase"),"\u5220\u9664\u6389\uff0c\u5df2\u7ecf\u4e0d\u518d\u9700\u8981\u63d0\u4f9b\u9759\u6001\u6587\u4ef6\u4e86\uff0c\u73b0\u5728\u4f9d\u636e",(0,i.kt)("inlineCode",{parentName:"p"},"html-loader"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"html-webpack-plugin"),"\u80fd\u81ea\u52a8\u751f\u6210\u4e00\u4e2a html \u9875\u9762\u4f5c\u4e3a webpack-dev-server \u7684\u8c03\u8bd5\u9875\u9762\u4e86\uff0c\u5373\u4f7f\u6267\u884c\u751f\u4ea7\u73af\u5883\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"yarn build"),"\u547d\u4ee4\u4e5f\u80fd\u4f9d\u636e\u9760\u5b83\u4eec\u5c06 html\uff0cicon \u7b49\u9759\u6001\u6587\u4ef6\u8f93\u51fa\u5230\u6253\u5305\u76ee\u5f55",(0,i.kt)("inlineCode",{parentName:"p"},"dist"),"\u4e2d\u3002"),(0,i.kt)("p",null,"\u6267\u884c",(0,i.kt)("inlineCode",{parentName:"p"},"yarn start"),"\u547d\u4ee4\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u81ea\u52a8\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u4e86\u9875\u9762\uff0c\u901a\u8fc7 devtool \u4e5f\u80fd\u770b\u5230 bundle \u6587\u4ef6\u5df2\u7ecf\u81ea\u52a8\u63d2\u5165\u5230\u6307\u5b9a\u7684 html \u4e2d\u4e86\u3002"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200817181923389",src:n(16420).Z,width:"769",height:"311"})),(0,i.kt)("p",null,"\u53ef\u4ee5\u4e3a html \u9875\u9762\u8bbe\u7f6e\u4e00\u4e2a favicon\uff0cHtmlWebpackPlugin \u4f1a\u6839\u636e",(0,i.kt)("inlineCode",{parentName:"p"},"favicon"),"\u914d\u7f6e\u7684\u8def\u5f84\u627e\u5230\u6587\u4ef6\u7136\u540e\u6dfb\u52a0\u5230 html \u4e2d\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'plugins: [\n  new HtmlWebpackPlugin({\n    template: "./public/index.html",\n    favicon: "./public/favicon.ico",\n  }),\n],\n')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200817193428448",src:n(17716).Z,width:"803",height:"290"})),(0,i.kt)("h2",{id:"\u5904\u7406-css"},"\u5904\u7406 CSS"),(0,i.kt)("h3",{id:"style-loader-\u548c-css-loader"},"style-loader \u548c css-loader"),(0,i.kt)("p",null,"\u5728 React \u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5982\u679c\u8981\u4f7f\u7528 CSS\uff0c\u6700\u5e38\u89c1\u7684\u505a\u6cd5\u662f\u5728\u5f53\u524d\u7ec4\u4ef6\u4e2d\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"import"),"\u5f15\u5165 CSS \u6587\u4ef6\uff0c\u4f46\u662f CSS \u6700\u7ec8\u9700\u8981\u88ab\u653e\u5728 HTML \u9875\u9762\u4e2d\u624d\u80fd\u88ab\u52a0\u8f7d\uff0c\u89e3\u6790\u3002"),(0,i.kt)("p",null,"\u8981\u5c06 CSS \u81ea\u52a8\u63d2\u5165\u5230 html \u9875\u9762\u4e2d\uff0c\u9700\u8981\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"style-loader"),"\uff0c\u5149\u5f15\u5165",(0,i.kt)("inlineCode",{parentName:"p"},"style-loader"),"\u8fd8\u4e0d\u884c\uff0c\u5f97\u9700\u8981\u4e00\u4e2a\u6839\u636e",(0,i.kt)("inlineCode",{parentName:"p"},"import"),"\u8bed\u6cd5\u89e3\u6790 CSS \u7684 ",(0,i.kt)("inlineCode",{parentName:"p"},"css-loader"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"css-loader"),"\u8d1f\u8d23\u89e3\u6790 CSS \u6587\u4ef6\u4e2d\u7684\u6837\u5f0f\u751f\u6210\u5b57\u7b26\u4e32\uff0c\u7136\u540e",(0,i.kt)("inlineCode",{parentName:"p"},"style-loader"),"\u9ed8\u8ba4\u521b\u5efa",(0,i.kt)("inlineCode",{parentName:"p"},"<style>"),"\u6807\u7b7e\u585e\u5165 CSS \u5b57\u7b26\u4e32\uff0c\u6700\u540e\u63d2\u5165\u5230\u9875\u9762\u4e2d\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add style-loader css-loader -D\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'//\u7b80\u5355\u914d\u7f6e\nmodule.exports = {\n  ...\n  module:{\n    rules:[\n      ...\n      {\n        test: /\\.css$/i,\n        use: [\n          {\n            loader: "style-loader",\n          },\n          {\n            loader: "css-loader",\n          },\n        ],\n      },\n    ]\n  }\n}\n')),(0,i.kt)("p",null,"\u9ed8\u8ba4\u662f\u4ee5",(0,i.kt)("inlineCode",{parentName:"p"},"<style>"),"\u7684\u5f62\u5f0f\u5c06\u7ec4\u4ef6\u4e2d\u5f15\u5165\u7684 CSS \u63d2\u5165\u5230 DOM \u4e2d"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200828171538000",src:n(61002).Z,width:"798",height:"358"})),(0,i.kt)("h4",{id:"style-loader-\u914d\u7f6e"},"style-loader \u914d\u7f6e"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"https://webpack.docschina.org/loaders/style-loader/#options"},"style-loader/#options"))),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"\u914d\u7f6e\u9879"),(0,i.kt)("th",{parentName:"tr",align:null},"default"),(0,i.kt)("th",{parentName:"tr",align:null},"\u542b\u4e49"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"injectType")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"styleTag")),(0,i.kt)("td",{parentName:"tr",align:null},"\u628a\u6837\u5f0f\u63d2\u5165\u5230 html \u7684\u65b9\u5f0f\uff0c\u9ed8\u8ba4\u662f\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"td"},"<style>"),"\u6807\u7b7e\uff0c\u53ef\u4ee5\u9009\u62e9",(0,i.kt)("inlineCode",{parentName:"td"},"linkTag"),"\uff0c\u4e5f\u5c31\u662f",(0,i.kt)("inlineCode",{parentName:"td"},"<link>"),"\u6807\u7b7e")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"attributes")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"{}")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5199\u5165",(0,i.kt)("inlineCode",{parentName:"td"},"<style>"),"\u6216\u8005",(0,i.kt)("inlineCode",{parentName:"td"},"<link>"),"\u6807\u7b7e\u7684\u5c5e\u6027")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"insert")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"head")),(0,i.kt)("td",{parentName:"tr",align:null},"\u63d2\u5165",(0,i.kt)("inlineCode",{parentName:"td"},"<style>"),"\u6216\u8005",(0,i.kt)("inlineCode",{parentName:"td"},"<link>"),"\u6807\u7b7e\u7684\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\u5c31\u662f\u5728 html \u7684",(0,i.kt)("inlineCode",{parentName:"td"},"<head>"),"\u4e2d")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"base")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"base")," \u5141\u8bb8\u4f60\u901a\u8fc7\u6307\u5b9a\u4e00\u4e2a\u6bd4 ",(0,i.kt)("em",{parentName:"td"},"DllPlugin1")," \u4f7f\u7528\u7684 css \u6a21\u5757 id \u5927\u7684\u503c\uff0c\u6765\u907f\u514d\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684 css (\u6216\u8005 DllPlugin2 \u7684 css) \u88ab DllPlugin1 \u4e2d\u7684 css \u8986\u76d6\u95ee\u9898")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"esModule")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c",(0,i.kt)("inlineCode",{parentName:"td"},"style-loader")," \u751f\u6210\u4f7f\u7528 Common JS \u6a21\u5757\u8bed\u6cd5\u7684 JS \u6a21\u5757\uff1b\u5982\u679c\u6307\u5b9a\u4f7f\u7528 ES module\uff0c\u6709\u5229\u4e8e tree shaking")))),(0,i.kt)("h4",{id:"css-loader-\u914d\u7f6e"},"css-loader \u914d\u7f6e"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/webpack-contrib/css-loader#modules"},"css-loader/#\u914d\u7f6e"))),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"\u914d\u7f6e\u9879"),(0,i.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,i.kt)("th",{parentName:"tr",align:null},"\u542b\u4e49"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"url")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")),(0,i.kt)("td",{parentName:"tr",align:null},"\u9ed8\u8ba4\u542f\u7528\u5bf9",(0,i.kt)("inlineCode",{parentName:"td"},"url"),"/",(0,i.kt)("inlineCode",{parentName:"td"},"image-set"),"\u52a8\u6001\u52a0\u8f7d\u8d44\u6e90\u7684\u5904\u7406")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"import")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")),(0,i.kt)("td",{parentName:"tr",align:null},"\u9ed8\u8ba4\u652f\u6301",(0,i.kt)("inlineCode",{parentName:"td"},"@import"),"\u89c4\u5219")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"modules")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"\u9ed8\u8ba4\u662f\u57fa\u4e8e\u6587\u4ef6\u540d\u9009\u62e9\u662f\u5426\u652f\u6301 CSS Modules")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"esModule")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"css-loader")," \u751f\u6210\u9ed8\u8ba4\u4f7f\u7528 ES \u6a21\u5757\u8bed\u6cd5")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"importLoaders")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"0")),(0,i.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u5728 CSS \u52a0\u8f7d\u7a0b\u5e8f\u4e4b\u524d\u5e94\u7528\u7684 loader \u7684\u6570\u91cf")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"sourceMap")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"\u53d6\u51b3\u4e8e webpack \u7684",(0,i.kt)("inlineCode",{parentName:"td"},"devtool"),"\u8bbe\u7f6e\u9879\uff0c\u53ea\u5728",(0,i.kt)("inlineCode",{parentName:"td"},"devtool"),"\u7684\u503c\u4e0d\u662f",(0,i.kt)("inlineCode",{parentName:"td"},"eval"),"\u548c",(0,i.kt)("inlineCode",{parentName:"td"},"false"),"\u7684\u65f6\u5019\u8fd9\u4e2a\u914d\u7f6e\u9879\u624d\u6709\u7528")))),(0,i.kt)("p",null,"\u9700\u8981\u7279\u522b\u5173\u6ce8\u7684\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"modules"),"\u8fd9\u4e2a\u914d\u7f6e\uff0c\u5b83\u548c",(0,i.kt)("a",{parentName:"p",href:"https://github.com/css-modules/webpack-demo"},"CSS Modules"),"\u76f8\u5173\u3002\u56e0\u4e3a\u5355\u9875\u9762\u5e94\u7528\u5f00\u53d1\u4e2d\u4f7f\u7528 CSS \u4e00\u4e2a\u6700\u5927\u7684\u95ee\u9898\u5c31\u662f\u4e0d\u597d\u7ef4\u62a4\uff0c\u7279\u522b\u5bb9\u6613\u51fa\u73b0\u547d\u540d\u6df7\u4e71\uff0c\u6837\u5f0f\u8986\u76d6\u7b49\u95ee\u9898\uff0c\u4f7f\u7528 CSS Modules \u53ef\u4ee5\u6709\u6548\u907f\u514d\u8fd9\u4e9b\u95ee\u9898\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"css-loader"),"\u9ed8\u8ba4\u662f\u652f\u6301 CSS Modules \u7684\uff0c\u5b83\u662f\u6839\u636e\u5728 React \u4e2d",(0,i.kt)("inlineCode",{parentName:"p"},"import"),"\u5f15\u5165\u7684 CSS \u6587\u4ef6\u540d\u6765\u5224\u65ad\u8fd9\u4e2a CSS \u6587\u4ef6\u662f\u4e0d\u662f\u4e00\u4e2a\u6a21\u5757\uff0c\u5982\u679c\u662f\u5c31\u53bb\u4f7f\u7528\u5185\u7f6e\u7684\u89e3\u6790\u89c4\u5219\u53bb\u66ff\u6362\u4e00\u4e9b class \u540d\u79f0\u7b49\u3002\u6b63\u5219\u5339\u914d\u6587\u4ef6\u540d\u89c4\u5219\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"/\\.module\\.\\w+$/i"),"\uff0c\u4e5f\u5c31\u662f\u5ffd\u7565\u5927\u5c0f\u5199\uff0c\u6587\u4ef6\u540d\u4e2d\u5305\u542b",(0,i.kt)("inlineCode",{parentName:"p"},".module"),"\u5c31\u88ab\u5f53\u4f5c\u4e00\u4e2a CSS \u6a21\u5757\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note\uff1a\u5982\u679c\u4f60",(0,i.kt)("inlineCode",{parentName:"p"},"eject"),"\u8fc7 CRA \u7684\u4ee3\u7801\u5c31\u4f1a\u53d1\u73b0\uff0cCRA \u5c31\u662f\u91c7\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"css-loader"),"\u8fd9\u79cd\u9ed8\u8ba4\u914d\u7f6e\u7684\u65b9\u5f0f\u3002")),(0,i.kt)("p",null,"\u56e0\u6b64\u5982\u679c\u4f60\u5c06\u4e00\u4e2a CSS \u6587\u4ef6\u540d\u547d\u540d\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"xxx.module.css"),"\u8fd9\u79cd\u5f62\u5f0f\u4ee5\u540e\uff0c\u5728 React \u7ec4\u4ef6\u4e2d\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"import"),"\u5f15\u5165\u8fd9\u4e2a CSS \u6587\u4ef6\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u4f7f\u7528 CSS Modules \u6307\u5b9a\u7684\u89c4\u5219\uff0c\u4e5f\u5c31\u662f\u628a\u5bfc\u5165\u7684 CSS \u770b\u4f5c\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"className"),"\u4e2d\u53bb\u4f7f\u7528\uff0c\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-css"},"/* styles.module.css */\n.test {\n  color: red;\n}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"| pure","|":!0,pure:!0},"import React, { Component } from 'react';\nimport styles from './styles.module.css';\n\nexport default class extends Component {\n  render() {\n    return (\n      <div>\n        <p className={styles.test}>12121212</p>\n      </div>\n    );\n  }\n}\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200827223319900",src:n(49976).Z,width:"801",height:"426"})),(0,i.kt)("p",null,"\u9664\u4e86\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\uff0c ",(0,i.kt)("inlineCode",{parentName:"p"},"modules"),"\u53ef\u4f9b\u9009\u62e9\u7684\u8bbe\u7f6e\u8fd8\u6709\u8fd9\u4e9b\uff1a"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"\u5c5e\u6027\u503c"),(0,i.kt)("th",{parentName:"tr",align:null},"\u542b\u4e49"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"true")),(0,i.kt)("td",{parentName:"tr",align:null},"\u5168\u90e8\u4f7f\u7528 CSS Modules\uff0c\u8bbe\u7f6e\u6210\u8fd9\u4e2a\u4ee5\u540e\uff0c\u5728 React \u4e2d\u5f15\u5165 CSS \u5c31\u5fc5\u987b\u6309\u7167\u4e0a\u9762\u90a3\u79cd CSS Modules \u7684\u5199\u6cd5")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"\u7981\u7528 CSS Module")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"local"')),(0,i.kt)("td",{parentName:"tr",align:null},"\u548c",(0,i.kt)("inlineCode",{parentName:"td"},"true"),"\u662f\u4e00\u6837\u7684\uff0cCSS Modules \u4e2d\u7684",(0,i.kt)("inlineCode",{parentName:"td"},"class"),"\u53ea\u5177\u6709\u6a21\u5757\u4f5c\u7528\u57df")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},'"global"')),(0,i.kt)("td",{parentName:"tr",align:null},"\u5c06 CSS Modules \u8bbe\u7f6e\u6210\u5168\u5c40\u4f5c\u7528\u57df")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Object Type"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"modules"),"\u53ef\u4ee5\u8bbe\u7f6e\u6210\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5c5e\u6027\u5982\u4e0b\u8868\u6240\u793a\uff0c\u89c1 \u2014\u2014 ",(0,i.kt)("a",{parentName:"td",href:"https://webpack.docschina.org/loaders/css-loader/#object"},"Object"))))),(0,i.kt)("p",null,"\u4ee5",(0,i.kt)("inlineCode",{parentName:"p"},"modules"),"Object \u5f62\u5f0f\u914d\u7f6e",(0,i.kt)("inlineCode",{parentName:"p"},"localIdentName")," \u6765\u770b\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"localIdentName")," \u53ef\u4ee5\u6307\u5b9a\u66ff\u6362 React \u4e2d",(0,i.kt)("inlineCode",{parentName:"p"},"className"),"\u7684\u540d\u79f0\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"localIdentName")," \u91c7\u7528",(0,i.kt)("a",{parentName:"p",href:"https://github.com/webpack/loader-utils#interpolatename"},"loader-utils#interpolatename"),"\u4e2d\u7684\u6a21\u677f\u5b57\u7b26\u4e32\u66ff\u6362\u5f62\u5f0f\u3002\u63a8\u8350\u662f\u5f00\u53d1\u73af\u5883\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},'"[path][name]__[local]"'),"\uff0c\u751f\u4ea7\u73af\u5883\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},'"[hash:base64]"'),"\uff0c\u914d\u7f6e\u4e00\u4e0b\u8bd5\u8bd5\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'modules: {\n  localIdentName: isDevelopment\n    ? "[path][name]__[local]"\n  : "[hash:base64]",\n},\n')),(0,i.kt)("p",null,"\u5f00\u53d1\u73af\u5883\u7684\u751f\u6210\u7ed3\u679c\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200828175458964",src:n(53477).Z,width:"760",height:"320"})),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"yarn build"),"\u6253\u5305\u7684\u7ed3\u679c\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200828175718423",src:n(20348).Z,width:"727",height:"362"})),(0,i.kt)("h3",{id:"postcss-loader"},"postcss-loader"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/postcss/postcss/blob/master/README-cn.md"},"PostCSS"),"\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u7528 JS \u7f16\u5199\u7684 CSS \u89e3\u6790\u5668\uff0c\u5b83\u80fd\u591f\u5c06 CSS \u6587\u4ef6\u89e3\u6790\u6210\u62bd\u8c61\u8bed\u6cd5\u6811\uff0c\u4ece\u800c\u4f7f\u7528 PostCSS \u7684\u63d2\u4ef6\u53ef\u4ee5\u57fa\u4e8e\u62bd\u8c61\u8bed\u6cd5\u6811\u6765\u8f6c\u6362 CSS \u7684\u8bed\u6cd5\uff0c\u4f8b\u5982\u6dfb\u52a0\u6d4f\u89c8\u5668\u517c\u5bb9\u524d\u7f00",(0,i.kt)("inlineCode",{parentName:"p"},"-webkit-"),"\uff08webkit \u5f15\u64ce\uff09\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"-moz-"),"\uff08firefox \u7684\u6392\u7248\u5f15\u64ce\uff09\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"-ms-"),"\uff08IE \u7684\u6392\u7248\u5f15\u64ce\uff09\uff0c\u6216\u8005\u5c06\u4ee3\u7801\u5f00\u53d1\u9636\u6bb5\u4f7f\u7528\u7684\u672a\u88ab\u6d4f\u89c8\u5668\u5e7f\u6cdb\u652f\u6301\u7684 CSS \u8bed\u6cd5\u8f6c\u6362\u6210\u517c\u5bb9\u6027\u66f4\u5f3a\u7684\u8bed\u6cd5\u7b49\u3002\u4f8b\u5982 CSS \u7684\u6837\u5f0f\u89c4\u8303\u5de5\u5177",(0,i.kt)("inlineCode",{parentName:"p"},"stylelint"),"\u5c31\u662f\u57fa\u4e8e PostCSS \u7684\u3002"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/webpack-contrib/postcss-loader"},(0,i.kt)("inlineCode",{parentName:"a"},"postcss-loader")),"\u662f\u8ba9 PostCSS \u53ef\u4ee5\u5728 webpack \u6784\u5efa\u5de5\u4f5c\u6d41\u4e2d\u53bb\u89e3\u6790 CSS \u751f\u6210 AST \u7684 loader\uff0c\u4e00\u822c\u6765\u8bf4\u662f\u8fd9\u6837\u7684\uff0c\u5728 webpack \u57fa\u4e8e\u6a21\u5757\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u7f16\u8bd1\u5b8c\u4e86 JS\uff0cCSS\uff0c\u6216\u8005 Less \u7b49\u4ee5\u540e\uff0c\u8fd9\u4e9b CSS \u6587\u4ef6\u4f1a\u88ab\u9001\u5230 PostCSS \u53bb\u89e3\u6790\u6210 AST\uff0c\u7136\u540e\u57fa\u4e8e PostCSS \u7684\u63d2\u4ef6\u5c31\u53ef\u4ee5\u9488\u5bf9 AST \u53bb\u5e72\u4e00\u4e9b\u6709\u610f\u4e49\u7684\u4e8b\u60c5\uff0c\u6bd4\u5982\u8bf4\u517c\u5bb9\u6027\u4fee\u6539\u7b49\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add postcss-loader postcss -D\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"postcss-loader"),"\u7684\u914d\u7f6e\u9879\u662f\u76f8\u5bf9\u7b80\u5355\u7684\uff0c\u53ea\u6709\u4e09\u4e2a\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"execute"),"\uff1a\u5904\u7406 CSS-in-JS \u7684\u8bed\u6cd5\uff1b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"postcssOptions"),"\uff1a\u4f7f\u7528 PostCSS \u7684 options"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"sourceMap"),"\uff1a\u662f\u5426\u9700\u8981\u751f\u6210 source map")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          'style-loader',\n          'css-loader',\n          {\n            loader: 'postcss-loader',\n            options: {\n              postcssOptions: {\n                //options\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n")),(0,i.kt)("p",null,"\u5355\u7eaf\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"postcss-loader"),"\u6ca1\u4ec0\u4e48\u5375\u7528\uff0c\u6700\u4e3b\u8981\u7684\u662f\u5f15\u5165\u57fa\u4e8e",(0,i.kt)("a",{parentName:"p",href:"https://www.postcss.parts/"},"PostCSS \u7684\u63d2\u4ef6"),"\uff0c\u5e38\u7528\u7684\u4f8b\u5982\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/postcss/autoprefixer"},(0,i.kt)("inlineCode",{parentName:"a"},"autoprefixer")),"\uff1a\u81ea\u52a8\u7ed9 CSS \u5c5e\u6027\u6dfb\u52a0\u4e0a\u6d4f\u89c8\u5668\u4f9b\u5e94\u5546\u7684\u524d\u7f00\uff1b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/csstools/postcss-preset-env"},(0,i.kt)("inlineCode",{parentName:"a"},"postcss-preset-env")),"\uff1a\u5bf9\u6d4f\u89c8\u5668\u5382\u5546\u53ef\u80fd\u8fd8\u672a\u5b9e\u73b0\u7684 CSS \u8bed\u6cd5\u8fdb\u884c\u8f6c\u6362\uff1b"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/luisrudge/postcss-flexbugs-fixes"},(0,i.kt)("inlineCode",{parentName:"a"},"postcss-flexbugs-fixes")),"\uff1a\u4fee\u6b63\u793e\u533a\u6536\u96c6\u7684\u5173\u4e8e",(0,i.kt)("a",{parentName:"li",href:"https://github.com/philipwalton/flexbugs"},(0,i.kt)("inlineCode",{parentName:"a"},"flex"),"\u5e03\u5c40\u7684\u4e00\u4e9b BUG"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add autoprefixer postcss-preset-env postcss-flexbugs-fixes -D\n")),(0,i.kt)("p",null,"\u4fee\u6539\u4e0a\u6587\u914d\u7f6e\uff0c\u5f15\u5165\u63d2\u4ef6"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          'style-loader',\n          'css-loader',\n          {\n            loader: 'postcss-loader',\n            options: {\n              postcssOptions: {\n                plugins: [\n                  'postcss-flexbugs-fixes',\n                  'autoprefixer',\n                  'postcss-preset-env',\n                ],\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n")),(0,i.kt)("p",null,"\u73b0\u5728\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"::placeholder"),"\u8fd9\u4e2a\u4f2a\u5143\u7d20\u6765\u6d4b\u8bd5\u4e00\u4e0b\uff0c\u65e0\u8bba\u662f\u5f00\u53d1\u73af\u5883\u8fd8\u662f\u751f\u4ea7\u73af\u5883\u90fd\u81ea\u52a8\u6dfb\u52a0\u4e86\u5382\u5546\u524d\u7f00\uff0c\u4f46\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"autoprefixer"),"\u5728\u517c\u5bb9",(0,i.kt)("inlineCode",{parentName:"p"},"grid"),"\u5e03\u5c40\u65b9\u9762\u6709\u4e00\u4e9b\u4e0d\u8db3\uff0c\u89c1 \u2014\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/postcss/autoprefixer#does-autoprefixer-polyfill-grid-layout-for-ie"},"Does Autoprefixer polyfill Grid Layout for IE"),"\uff0c\u5b83\u53ea\u80fd\u8f6c\u6362\u5230 IE 10 \u548c IE 11 \u7684\u7a0b\u5ea6\u3002"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200908174806466",src:n(52560).Z,width:"578",height:"304"})),(0,i.kt)("h3",{id:"\u63d0\u53d6-css-\u6587\u4ef6"},"\u63d0\u53d6 CSS \u6587\u4ef6"),(0,i.kt)("p",null,"\u751f\u4ea7\u73af\u5883\u4e2d\u9700\u8981\u5c06 React \u4e2d",(0,i.kt)("inlineCode",{parentName:"p"},"import"),"\u5f15\u5165\u7684 CSS\uff0c\u6216\u8005 less \u7b49\u5bfc\u51fa\u4e3a\u5355\u4e2a CSS \u6587\u4ef6\uff0c\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"<link>"),"\u6807\u7b7e\u63d2\u5165\u5230 DOM \u4e2d\uff0c\u63a8\u8350\u4f7f\u7528",(0,i.kt)("a",{parentName:"p",href:"https://github.com/webpack-contrib/mini-css-extract-plugin"},(0,i.kt)("inlineCode",{parentName:"a"},"mini-css-extract-plugin")),"\u8fd9\u4e2a webpack plugin\uff0c\u5b83\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u5305\u542b CSS \u7684 JS \u6587\u4ef6\u521b\u5efa\u4e00\u4e2a CSS \u6587\u4ef6\uff0c\u5b83\u652f\u6301 CSS \u548c SourceMap \u7684\u6309\u9700\u52a0\u8f7d\u3002\u76f8\u6bd4",(0,i.kt)("inlineCode",{parentName:"p"},"extract-text-webpack-plugin"),"\u6765\u8bf4\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"mini-css-extract-plugin"),"\u7279\u70b9\u5982\u4e0b\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5f02\u6b65\u52a0\u8f7d"),(0,i.kt)("li",{parentName:"ul"},"\u6ca1\u6709\u91cd\u590d\u7684\u7f16\u8bd1"),(0,i.kt)("li",{parentName:"ul"},"\u53ea\u7528\u4e8e CSS")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add mini-css-extract-plugin -D\n")),(0,i.kt)("p",null,"\u4fee\u6539\u4e0a\u6587\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"style-loader"),"\u914d\u7f6e\uff0c\u540c\u65f6\u914d\u7f6e",(0,i.kt)("inlineCode",{parentName:"p"},"mini-css-extract-plugin"),"\u5185\u7f6e\u7684 loader \u548c plugin"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'const MiniCssExtractPlugin = require("mini-css-extract-plugin");\n\nmodule.exports = function (env) {\n  const isDevelopment = env.NODE_ENV === "development";\n  const isProduction = env.NODE_ENV === "production";\n  return {\n    ...\n    module: {\n      rules: [\n        ...\n        {\n          test: /\\.css$/i,\n          use: [\n            isDevelopment && {      //\u5f00\u53d1\u73af\u5883\u4f7f\u7528style-loader\n              loader: "style-loader",\n            },\n            isProduction && {           //\u751f\u4ea7\u73af\u5883\u4f7f\u7528mini-css-extract-plugin\n              loader: MiniCssExtractPlugin.loader,\n              options: {\n                publicPath: "../../",//\u56e0\u4e3a\u63d0\u53d6\u7684CSS\u6587\u4ef6\u6700\u7ec8\u4f4d\u4e8e static/css\u6587\u4ef6\u5939\u4e2d\uff0c\u6240\u4ee5\u5f80\u4e0a\u4e24\u5c42\n              },\n            },\n            {\n              loader: "css-loader",\n              options: {\n                modules: {\n                  localIdentName: isDevelopment\n                    ? "[path][name]__[local]"\n                    : "[hash:base64]",\n                },\n              },\n            },\n          ].filter(Boolean),\n        },\n      ],\n    },\n    plugins: [\n      ...\n      isProduction &&                           //\u8fd8\u9700\u8981\u914d\u7f6e\u542f\u7528plugin\u90e8\u5206\n        new MiniCssExtractPlugin({\n          filename: "static/css/[name].[contenthash:8].css",\n        }),\n      ,\n    ].filter(Boolean),\n  };\n};\n')),(0,i.kt)("p",null,"\u6267\u884c",(0,i.kt)("inlineCode",{parentName:"p"},"yarn build"),"\u770b\u4e00\u4e0b\u8f93\u51fa\u7684\u6587\u4ef6\uff0c\u5df2\u7ecf\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"dist"),"\u76ee\u5f55\u4e0b\u6839\u636e\u914d\u7f6e\u7684\u8def\u5f84\u751f\u6210\u4e86 css \u6587\u4ef6"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200828184616588",src:n(6566).Z,width:"739",height:"216"})),(0,i.kt)("p",null,"\u518d\u68c0\u67e5 html \u9875\u9762\uff0c\u53d1\u73b0 CSS \u6587\u4ef6\u6309\u7167\u8def\u5f84\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"<link>"),"\u7684\u5f62\u5f0f\u63d2\u5165"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200828184732391",src:n(90036).Z,width:"901",height:"336"})),(0,i.kt)("h3",{id:"\u79fb\u9664\u65e0\u7528\u7684-css"},"\u79fb\u9664\u65e0\u7528\u7684 CSS"),(0,i.kt)("p",null,"\u79fb\u9664\u65e0\u7528\u7684 CSS \u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("a",{parentName:"p",href:"https://github.com/FullHuman/purgecss"},(0,i.kt)("inlineCode",{parentName:"a"},"purgecss")),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"purgecss"),"\u7684\u6587\u6863\u4ecb\u7ecd\u4e86\u5f88\u591a plugin \u548c\u6846\u67b6\u7ed3\u5408\u7684\u7528\u6cd5\uff0c\u5176\u4e2d\u6211\u91cd\u70b9\u5173\u6ce8\u7684\u662f\u7ed3\u5408 CSS modules \u5982\u4f55\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"purgecss")," \u2014\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://purgecss.com/css_modules.html"},"How to use with CSS modules"),"\uff0c\u8fd9\u90e8\u5206\u5185\u5bb9\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"purgecss"),"\u7684\u4ecb\u7ecd\u7f51\u7ad9\u8d34\u51fa\u6765\u4e86\uff0cGitHub \u7684 README \u9875\u9762\u5e76\u672a\u63d0\u53ca\uff0c\u5728 issue \u4e2d\u6709\u4e00\u4e2a\u76f8\u5173\u95ee\u9898 \u2014\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/FullHuman/purgecss/issues/163#issuecomment-526607181"},"Webpack 4 + React + CSS modules stripping all classes from CSS bundle"),"\u3002"),(0,i.kt)("p",null,"\u6839\u636e issue \u4e2d\u76f8\u5173\u8ba8\u8bba\uff0c\u627e\u5230\u4e86\u89e3\u51b3\u65b9\u6848\uff0c\u89c1 \u2014\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/FullHuman/purgecss/issues/163%EF%BC%8C%E7%9B%B8%E5%85%B3%E8%A7%A3%E5%86%B3%E7%9A%84%E6%96%B9%E6%B3%95%E5%85%B6%E5%AE%9E%E8%BF%98%E7%AE%97%E7%AE%80%E5%8D%95%EF%BC%8C%E5%A4%A7%E8%87%B4%E5%88%86%E4%B8%BA%E4%B8%A4%E6%AD%A5%EF%BC%9A"},"https://github.com/FullHuman/purgecss/issues/163\uff0c\u76f8\u5173\u89e3\u51b3\u7684\u65b9\u6cd5\u5176\u5b9e\u8fd8\u7b97\u7b80\u5355\uff0c\u5927\u81f4\u5206\u4e3a\u4e24\u6b65\uff1a")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5b89\u88c5",(0,i.kt)("a",{parentName:"li",href:"https://github.com/FullHuman/purgecss/tree/master/packages/postcss-purgecss"},(0,i.kt)("inlineCode",{parentName:"a"},"@fullhuman/postcss-purgecss")),"\u548c",(0,i.kt)("a",{parentName:"li",href:"https://github.com/isaacs/node-glob#readme"},(0,i.kt)("inlineCode",{parentName:"a"},"glob")),"\uff1b"),(0,i.kt)("li",{parentName:"ul"},"\u5728",(0,i.kt)("inlineCode",{parentName:"li"},"postcss-loader"),"\u7684 plugin \u4e2d\u914d\u7f6e",(0,i.kt)("inlineCode",{parentName:"li"},"@fullhuman/postcss-purgecss"),"\u5373\u53ef")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add @fullhuman/postcss-purgecss glob -D\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"content"),"\u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6\u8def\u5f84\u5b57\u7b26\u4e32\u6570\u7ec4\uff0c\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"@fullhuman/postcss-purgecss"),"\u91cc\u662f\u6307\u5b9a\u4ee3\u7801\u4e2d\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"import"),"\u5f15\u5165\u8fc7 CSS \u7684\u5730\u65b9\uff0c\u6307\u5b9a\u8fd9\u4e9b\u6587\u4ef6\u8def\u5f84\u4ee5\u540e\u5c31\u4f1a\u53bb\u68c0\u67e5\u5b83\u4eec\u5f15\u5165\u7684 CSS \u6587\u4ef6\u4e2d\u662f\u5426\u5305\u542b\u672a\u4f7f\u7528\u7684 CSS \u4ee3\u7801\uff1b"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"glob"),"\u662f\u4e00\u4e2a\u8d1f\u8d23\u6839\u636e\u901a\u914d\u7b26\u5339\u914d\u6587\u4ef6\u8def\u5f84\u7684\u5de5\u5177\uff0c\u8fd9\u91cc\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"glob.sync(pattern, [options])"),"\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u53bb\u67e5\u627e\u6240\u6709",(0,i.kt)("inlineCode",{parentName:"p"},"src"),"\u76ee\u5f55\u4ee5\u53ca\u5b50\u76ee\u5f55\u4e2d",(0,i.kt)("inlineCode",{parentName:"p"},".jsx"),"\u7ed3\u5c3e\u7684 React \u6587\u4ef6\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: [\n          'style-loader',\n          'css-loader',\n          {\n            loader: 'postcss-loader',\n            options: {\n              postcssOptions: {\n                plugins: [\n                  'postcss-flexbugs-fixes',\n                  'autoprefixer',\n                  'postcss-preset-env',\n                  [\n                    '@fullhuman/postcss-purgecss', //\u914d\u7f6e@fullhuman/postcss-purgecss\n                    {\n                      content: [\n                        path.join(__dirname, './public/index.html'),\n                        ...glob.sync(\n                          `${path.join(__dirname, 'src')}/**/*.jsx`,\n                          {\n                            nodir: true,\n                          },\n                        ),\n                      ],\n                    },\n                  ],\n                ],\n              },\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n")),(0,i.kt)("p",null,"\u7ecf\u8fc7\u4e0a\u8ff0\u914d\u7f6e\uff0c\u73b0\u5b9a\u4e49\u4e00\u4e2a button \u7ec4\u4ef6\u548c CSS \u6587\u4ef6\uff0c\u4f46\u662f\u53ea\u901a\u8fc7 CSS Modules \u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a CSS \u7c7b\uff0c\u6267\u884c\u6784\u5efa\uff0c\u6700\u7ec8\u751f\u6210\u7684 CSS chunk \u786e\u5b9e\u79fb\u9664\u4e86\u672a\u4f7f\u7528\u8fc7\u7684",(0,i.kt)("inlineCode",{parentName:"p"},".btn1"),"\u7684\u4ee3\u7801\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"| pure","|":!0,pure:!0},'.btn1 {\n  background: red;\n}\n\n.btn2 {\n  background: green;\n}\n\nimport React, { Component } from "react";\nimport styles from "./styles.css";\n\nexport class Button1 extends Component {\n  render() {\n    return <button className={styles.btn2}>\u6d4b\u8bd51</button>;\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200908230724789",src:n(14092).Z,width:"622",height:"410"})),(0,i.kt)("h3",{id:"\u538b\u7f29-css-\u4ee3\u7801"},"\u538b\u7f29 CSS \u4ee3\u7801"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"mini-css-extract-plugin"),"\u53ea\u8d1f\u8d23\u751f\u6210 CSS \u6587\u4ef6\uff0c\u8981\u5bf9\u751f\u4ea7\u73af\u5883\u6253\u5305\u540e\u7684 CSS \u6587\u4ef6\u8fdb\u884c\u538b\u7f29\uff0c\u9700\u8981\u4f7f\u7528\u989d\u5916\u7684\u63d2\u4ef6 \u2014\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/NMFR/optimize-css-assets-webpack-plugin"},"optimize-css-assets-webpack-plugin"),"\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add optimize-css-assets-webpack-plugin -D\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const OptimizeCssAssetsPlugin = require('optimize-css-assets-webpack-plugin'); //\u538b\u7f29CSS\u4ee3\u7801\n\nmodule.exports = {\n  plugins: [\n    new OptimizeCssAssetsPlugin({\n      assetNameRegExp: /\\.css$/g,\n      cssProcessor: require('cssnano'),\n      cssProcessorPluginOptions: {\n        preset: ['default', { discardComments: { removeAll: true } }],\n      },\n      canPrint: true,\n    }),\n  ],\n};\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"assetNameRegExp"),"\uff1a\u5339\u914d\u9700\u8981\u538b\u7f29\u7684 CSS \u6587\u4ef6\u540d\uff0c\u9ed8\u8ba4\u662f",(0,i.kt)("inlineCode",{parentName:"li"},"/\\.css$/g")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cssProcessor"),"\uff1a\u538b\u7f29 CSS \u4f7f\u7528\u7684\u5904\u7406\u5668\uff0c\u9ed8\u8ba4\u4f7f\u7528",(0,i.kt)("a",{parentName:"li",href:"https://github.com/cssnano/cssnano"},"cssnano")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cssProcessorOptions"),"\uff1a\u4f20\u9012\u7ed9",(0,i.kt)("inlineCode",{parentName:"li"},"cssProcessor"),"\u7684\u53c2\u6570\uff0c\u9ed8\u8ba4\u662f\u7a7a\u5bf9\u8c61",(0,i.kt)("inlineCode",{parentName:"li"},"{}")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"cssProcessorPluginOptions"),"\uff1a\u4f20\u9012\u7ed9",(0,i.kt)("inlineCode",{parentName:"li"},"cssProcessor"),"\u7684 plugin \u9009\u9879\uff0c\u9ed8\u8ba4\u662f\u7a7a\u5bf9\u8c61",(0,i.kt)("inlineCode",{parentName:"li"},"{}")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"canPrint"),"\uff1a\u6307\u793a\u63d2\u4ef6\u662f\u5426\u53ef\u4ee5\u5c06\u4fe1\u606f\u6253\u5370\u5230\u63a7\u5236\u53f0")),(0,i.kt)("h2",{id:"\u5904\u7406\u56fe\u7247"},"\u5904\u7406\u56fe\u7247"),(0,i.kt)("p",null,"\u5982\u679c\u5728 CSS \u4e2d\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"url"),"\u5f15\u5165\u4e00\u4e2a\u56fe\u7247\uff0c\u6216\u8005\u5728 React \u4e2d\u76f4\u63a5",(0,i.kt)("inlineCode",{parentName:"p"},"import"),"\u4e00\u4e2a\u56fe\u7247\uff0c\u90fd\u9700\u8981\u989d\u5916\u7684 loader \u6765\u89e3\u6790\u56fe\u7247\uff0cwebpack \u6587\u6863\u4e2d\u7ed9\u51fa\u4e86\u4e24\u79cd loader \u6765\u5904\u7406\u56fe\u7247\u8d44\u6e90\uff1a",(0,i.kt)("inlineCode",{parentName:"p"},"file-loader"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"url-loader"),"\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add file-loader url-loader -D\n")),(0,i.kt)("h3",{id:"file-loader"},"file-loader"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/webpack-contrib/file-loader#options"},"file-loader#\u914d\u7f6e\u9879"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"file-loader"),"\u652f\u6301\u89e3\u6790 React \u4e2d",(0,i.kt)("inlineCode",{parentName:"p"},"import"),"\u7684\u56fe\u7247\u8def\u5f84\u4ee5\u53ca\u5728 CSS \u4e2d\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"url"),"\u5f15\u5165\u7684\u56fe\u7247\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"file-loader"),"\u4f1a\u5bf9\u5f15\u5165\u7684\u56fe\u7247\u91cd\u65b0\u751f\u6210\u4e00\u4e2a hash \u5b57\u7b26\u4e32\u4f5c\u4e3a\u66ff\u6362\u540d\u79f0\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = {\n  ...\n  modules:{\n    rules:[\n      ...\n      {\n        test: [/\\.bmp$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/, /\\.svg$/], //\u6ce8\u610f\u4e0d\u8981\u5fd8\u4e86svg\n        loader: "file-loader",\n      }\n    ]\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200828232655666",src:n(32249).Z,width:"818",height:"503"})),(0,i.kt)("h4",{id:"\u914d\u7f6e\u8f93\u51fa\u76ee\u5f55"},"\u914d\u7f6e\u8f93\u51fa\u76ee\u5f55"),(0,i.kt)("p",null,"\u5982\u679c\u4e0d\u5bf9",(0,i.kt)("inlineCode",{parentName:"p"},"file-loader"),"\u914d\u7f6e\u6253\u5305\u540e\u7684\u56fe\u7247\u8f93\u51fa\u76ee\u5f55\uff0c\u5728\u5f00\u53d1\u73af\u5883\u901a\u5e38\u6ca1\u6709\u5f71\u54cd\uff0c\u4f46\u662f\u5728\u6267\u884c",(0,i.kt)("inlineCode",{parentName:"p"},"yarn build"),"\u4ee5\u540e\uff0c\u56fe\u7247\u90fd\u4f1a\u88ab\u653e\u5728 webpack \u7684",(0,i.kt)("inlineCode",{parentName:"p"},"output"),"\u6307\u5b9a\u7684\u6839\u76ee\u5f55\u4e0b\u9762\u3002\u6240\u4ee5\u5fc5\u987b\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"file-loader"),"\u6307\u5b9a\u6253\u5305\u540e\u7684\u8f93\u51fa\u76ee\u5f55\u3002"),(0,i.kt)("p",null,"\u53ef\u4ee5\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"name"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"outputPath"),"\u6307\u5b9a\u56fe\u7247\u8f93\u51fa\u76ee\u5f55"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = {\n  ...\n  modules:{\n    rules:[\n      ...\n      {\n        test: [/\\.bmp$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/],\n        loader: "file-loader",\n        options: {\n          name: "[name].[hash:8].[ext]",\n          outputPath: "static/images",\n        },\n      }\n    ]\n  }\n}\n')),(0,i.kt)("p",null,"\u8fd9\u6837\u7684\u914d\u7f6e\u7ed3\u679c\uff0c\u6700\u7ec8\u6253\u5305\u8f93\u51fa\u56fe\u7247\u7684\u76ee\u5f55\u4f1a\u548c html \u5728\u540c\u7ea7\u76ee\u5f55\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"static/images"),"\u4e0b"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"    \u251c\u2500 dist\n    \u251c\u2500 favicon.ico\n    \u251c\u2500 index.html\n    \u2514\u2500 static\n      \u251c\u2500 css\n      \u2502 \u251c\u2500 main.css\n      \u2514\u2500 images\n        \u2514\u2500 picture.jpg\n")),(0,i.kt)("p",null,"\u4f46\u662f\u8fd9\u6837\u7684\u6253\u5305\u76ee\u5f55\u5bf9\u4e8e\u5728 CSS \u4e2d\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"url"),"\u5f15\u5165\u7684\u56fe\u7247\u6765\u8bf4\uff0c\u5b83\u4e5f\u4f1a\u88ab\u653e\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"static/images"),"\u76ee\u5f55\u4e0b\uff0c\u540c\u65f6\u8def\u5f84\u524d\u7f00\u4e5f\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"static/images"),"\uff0c\u6240\u4ee5 CSS \u5c31\u627e\u4e0d\u5230\u56fe\u7247\u4e86\u3002\u8fd9\u79cd\u60c5\u51b5\u6211\u76ee\u524d\u627e\u5230\u4e24\u79cd\u89e3\u51b3\u65b9\u5f0f\uff1a"),(0,i.kt)("p",null,"\u7b2c\u4e00\u79cd\uff1a\u5728\u4e4b\u524d\u63d0\u53d6 CSS \u7684\u63d2\u4ef6",(0,i.kt)("inlineCode",{parentName:"p"},"mini-css-extract-plugin"),"\u7684 loader \u914d\u7f6e\u4e2d\u76f4\u63a5\u6307\u5b9a CSS \u7684\u516c\u5171\u8d44\u6e90\u76ee\u5f55\uff0c\u8fd9\u6837\u5728\u6253\u5305\u5b8c\u4e86\u4ee5\u540e\uff0cCSS \u4e2d\u5f15\u7528\u7684\u8d44\u6e90\u8def\u5f84\u4f1a\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"static/images"),"\u524d\u9762\u518d\u52a0\u4e0a",(0,i.kt)("inlineCode",{parentName:"p"},"../../"),"\u7684\u524d\u7f00\uff0c\u8fd9\u6837\u8def\u5f84\u5c31\u5bf9\u4e86"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"isProduction && {           //\u751f\u4ea7\u73af\u5883\u4f7f\u7528mini-css-extract-plugin\n  loader: MiniCssExtractPlugin.loader,\n  options: {\n    publicPath: '../../',\n  },\n},\n")),(0,i.kt)("p",null,"\u7b2c\u4e8c\u79cd\uff1a\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"file-loader"),"\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"name"),"\u7684\u51fd\u6570\u914d\u7f6e\u65b9\u5f0f\u89e3\u51b3\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"name"),"\u7684\u51fd\u6570\u4f1a\u63a5\u6536\u4e09\u4e2a\u53c2\u6570\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"resourcePath"),"\uff1a\u539f\u56fe\u7247\u7684\u5b8c\u6574\u8def\u5f84"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"resourceQuery"),"\uff1a\u56fe\u7247\u8def\u5f84\u4e32\u63a5\u7684\u53c2\u6570")),(0,i.kt)("p",null,"\u8fd9\u79cd\u65b9\u5f0f\u6211\u4e2a\u4eba\u60f3\u6cd5\u662f\u5bf9\u4e8e\u5728 CSS \u4e2d\u5f15\u7528\u7684\u56fe\u7247\uff0c\u8bbe\u7f6e\u56fa\u5b9a\u683c\u5f0f\u7684\u6587\u4ef6\u540d\uff0c\u4f8b\u5982",(0,i.kt)("inlineCode",{parentName:"p"},"cssimage-xxx.jpg"),"\uff0c\u7136\u540e",(0,i.kt)("inlineCode",{parentName:"p"},"name"),"\u51fd\u6570\u5728\u63a5\u6536\u5230\u6587\u4ef6\u540d\u6839\u636e\u6b63\u5219\u8868\u8fbe\u5f0f\u53bb\u5339\u914d\uff0c\u5982\u679c\u6ee1\u8db3\u662f CSS \u4e2d\u5f15\u7528\u7684\u56fe\u7247\u6587\u4ef6\u540d\u683c\u5f0f\uff0c\u90a3\u4e48\u8fd4\u56de\u7684\u6587\u4ef6\u540d\u8def\u5f84\u5c31\u53ef\u4ee5\u4f7f\u7528\u7279\u5b9a\u7684\u5f62\u5f0f\u6765\u6307\u5b9a\uff0c\u4f8b\u5982",(0,i.kt)("inlineCode",{parentName:"p"},"../../static/images/[name].[hash:8].[ext]"),"\uff0c\u5982\u679c\u4e0d\u662f\u5c31\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"static/images/[name].[hash:8].[ext]"),"\u3002"),(0,i.kt)("h3",{id:"url-loader"},"url-loader"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"url-loader"),"\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"file-loader"),"\u7684\u5347\u7ea7\uff0c\u5bf9\u4e8e\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"limit"),"\u9650\u5236\u5185\u7684\u5c0f\u56fe\u7247\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"url-loader"),"\u5c06\u56fe\u7247\u8f6c\u6210",(0,i.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/Base64"},"Base64 \u7f16\u7801"),"\u7684\u6570\u636e\uff0c\u5e76\u901a\u8fc7"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/data_URIs"},(0,i.kt)("strong",{parentName:"a"},"Data URLs")),"\u653e\u5728\u9875\u9762\u4e2d\uff0c\u6216\u8005 CSS \u4e2d\uff0c\u800c\u5bf9\u4e8e\u8d85\u8fc7\u4e86",(0,i.kt)("inlineCode",{parentName:"p"},"limit"),"\u9650\u5236\u7684\u56fe\u7247\uff0c\u53ef\u4ee5\u6307\u5b9a\u540e\u7eed\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"file-loader"),"\u5904\u7406\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4e3a\u5176\u6307\u5b9a\u8f93\u51fa\u8def\u5f84\u3002"),(0,i.kt)("h4",{id:"data-urls"},"Data URLs"),(0,i.kt)("p",null,"\u4ee5",(0,i.kt)("inlineCode",{parentName:"p"},"data://"),"\u5f62\u5f0f\u5f00\u5934\u7684 Data URLs \u534f\u8bae\u662f\u4f17\u591a URI \u534f\u8bae\u4e2d\u7684\u4e00\u79cd\uff0cURI \u672c\u8eab\u5c31\u662f\u7edf\u4e00\u8d44\u6e90\u6807\u8bc6\u7b26\u7684\u7f29\u5199\uff0c\u6240\u4ee5 Data URLs \u4e5f\u662f\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u8d44\u6e90\u7684\u5f62\u5f0f\u3002"),(0,i.kt)("p",null,"Data URLs \u7684\u5f62\u5f0f\u5982\u4e0b\uff1a"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"data:[<mediatype>][;base64],<data>"))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"mediatype\uff0c\u4e5f\u5c31\u662f",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types#%E5%9B%BE%E7%89%87%E7%B1%BB%E5%9E%8B"},"\u56fe\u7247\u7684\u6587\u4ef6\u7c7b\u578b"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},";base64"),"\u8fd9\u90e8\u5206\u5b57\u7b26\u4e32\u65f6\u53ef\u9009\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u4f60\u53ef\u4ee5\u76f4\u63a5\u5c06\u67d0\u4e9b mediatype \u7684\u6587\u672c\u5d4c\u5165\u5230 Data URLs \u4e2d\uff0c\u4f8b\u5982 HTML\uff0cSVG \u7b49")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"data\uff0c\u53ef\u80fd\u662f\u88ab Base64 \u7f16\u7801\u4ee5\u540e\u7684\u6570\u636e\uff0c\u4e5f\u53ef\u80fd\u662f\u7eaf\u6587\u672c"))),(0,i.kt)("p",null,"\u901a\u8fc7 Data URLs \u534f\u8bae\u5f15\u5165\u7684\u56fe\u7247\u901a\u5e38\u5982\u4e0b\u6240\u793a\uff1a"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200829163458852",src:n(24461).Z,width:"623",height:"178"})),(0,i.kt)("p",null,"\u81f3\u4e8e Base64\uff0c\u662f\u4f7f\u7528 ASCII \u7801\u4e2d\u7684 64 \u4e2a\u53ef\u6253\u5370\u5b57\u7b26\uff08",(0,i.kt)("inlineCode",{parentName:"p"},"a~z"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"A~Z"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"0~9"),"\u4ee5\u53ca",(0,i.kt)("inlineCode",{parentName:"p"},"+"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"/"),"\uff0c\u6700\u540e\u8fd8\u6709\u4e00\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"="),"\u540e\u7f00\uff09\u6765\u7f16\u7801\u6570\u636e\uff0c\u8fd9\u79cd\u7f16\u7801\u7684\u7279\u70b9\u662f\u5c06\u539f\u6570\u636e\u7684\u6bcf 6 \u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"bit"),"\u7528\u4e00\u4e2a\u6253\u5370\u5b57\u7b26\u6765\u8868\u793a\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u5b57\u7b26\u53ea\u80fd\u8868\u793a",(0,i.kt)("inlineCode",{parentName:"p"},"3/4"),"\u7684\u6570\u636e\u91cf\uff0c\u6240\u4ee5\u7ecf\u8fc7 Base64 \u7f16\u7801\u7684\u6570\u636e\uff0c\u6700\u7ec8\u4f1a\u6bd4\u539f\u59cb\u6570\u636e\u5927",(0,i.kt)("inlineCode",{parentName:"p"},"1/3"),"\u5de6\u53f3\u3002"),(0,i.kt)("p",null,"\u5c06 Base64 \u7f16\u7801\u5e94\u7528\u5728\u56fe\u7247\u4e0a\u7684\u8bdd\uff0c\u597d\u5904\u6709\u4ee5\u4e0b\u8fd9\u4e9b\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u4e0d\u7528\u5728\u5f00\u53d1\u65f6\u5019\u7ba1\u90a3\u4e9b\u9ebb\u70e6\u7684\u56fe\u7247\u8def\u5f84\u914d\u7f6e\u95ee\u9898\uff1b")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5bf9\u4e8e\u5c0f\u56fe\u7247\uff0c\u76f4\u63a5\u5d4c\u5165 HTML \u9875\u9762\u6216\u8005 CSS \u4e2d\uff0c\u8282\u7701 HTTP \u8bf7\u6c42\uff0c\u76f8\u5f53\u4e8e\u7f29\u77ed\u9875\u9762\u8d44\u6e90\u5728\u8bf7\u6c42\u8fc7\u7a0b\u4e2d\u7684\u6392\u961f\u65f6\u95f4\uff1b")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u56fe\u7247\u76f4\u63a5\u4f7f\u7528 Base64 \u7f16\u7801\u4ee5\u540e\uff0c\u5728 JS \u4e2d\u83b7\u53d6\u56fe\u7247\u53ef\u4ee5\u907f\u514d\u4e00\u4e9b\u8de8\u57df\u4f7f\u7528\u56fe\u7247\u7684\u95ee\u9898"))),(0,i.kt)("p",null,"\u5f53\u7136\uff0c\u4e5f\u6709\u4e00\u4e9b\u5c40\u9650\u6027\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5982\u679c\u628a\u5927\u56fe\u7247\u90fd\u8f6c\u6210 Base64 \u585e\u5230 HTML \u6216\u8005 CSS \u91cc\uff0c\u4f1a\u5bfc\u81f4\u9875\u9762\u6e32\u67d3\u901f\u5ea6\u660e\u663e\u51cf\u6162\uff0c\u800c\u4e14\u8fd8\u4f1a\u5361\uff1b")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u6d4f\u89c8\u5668\u65e0\u6cd5\u9488\u5bf9 Base64 \u7f16\u7801\u7684\u56fe\u7247\u5355\u72ec\u7f13\u5b58\uff0c\u8981\u4e48\u7f13\u5b58\u6574\u4e2a CSS \u6216\u8005 HTML \u6587\u4ef6\uff1b")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u7531\u4e8e Base64 \u4e0a\u9762\u8bf4\u7684\u6bd4\u539f\u56fe\u7247\u4f53\u79ef\u5927\u7684\u95ee\u9898\uff0c\u9700\u8981\u9488\u5bf9\u670d\u52a1\u5668\u5f00\u542f",(0,i.kt)("inlineCode",{parentName:"p"},"gzip"),"\u538b\u7f29\u4f20\u8f93\uff0c\u8fd9\u6837\u548c\u539f\u56fe\u5f00\u542f",(0,i.kt)("inlineCode",{parentName:"p"},"gzip"),"\u4f20\u8f93\u57fa\u672c\u5dee\u4e0d\u591a\u4e86"))),(0,i.kt)("p",null,"\u6240\u4ee5\u4e00\u822c\u662f\u63a8\u8350\u4e00\u4e9b\u9875\u9762\u7684\u5c0f\u56fe\u6807\uff0c\u5c0f logo \u8fd9\u4e9b\u4e0d\u5bb9\u6613\u6539\u53d8\uff0c\u4e14\u56fe\u7247\u4f53\u79ef\u5c0f\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 Base64 \u7f16\u7801\u3002"),(0,i.kt)("h4",{id:"url-loader-\u914d\u7f6e"},"url-loader \u914d\u7f6e"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/webpack-contrib/url-loader#options"},"url-loader#\u914d\u7f6e\u9879"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"url-loader"),"\u9ed8\u8ba4\u662f\u65e0\u9650\u5236\u7684\u628a\u6240\u6709\u56fe\u7247\u90fd\u7ecf Base64 \u7f16\u7801\u8f6c\u6362\uff0c\u6240\u4ee5\u5fc5\u987b\u914d\u7f6e\u5927\u5c0f\u9650\u5236",(0,i.kt)("inlineCode",{parentName:"p"},"limit"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"limit"),"\u7684\u5355\u4f4d\u662f\u5b57\u8282\uff0c\u63a8\u8350\u662f",(0,i.kt)("inlineCode",{parentName:"p"},"10KB"),"\u4ee5\u4e0b\u7684\u56fe\u7247\u8fdb\u884c Base64 \u7f16\u7801\uff1b\u5bf9\u4e8e\u5927\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"10KB"),"\u7684\u56fe\u7247\uff0c\u4f7f\u7528\u6307\u5b9a\u6587\u4ef6\u540d\u7684\u5f62\u5f0f\u6765\u914d\u7f6e\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = {\n  ...\n  modules:{\n    rules:[\n      ...\n      {\n        test: [/\\.bmp$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/],\n        loader: "url-loader",\n        options: {\n          limit: 10 * 1024,\n          name: "static/images/[name].[hash:8].[ext]",\n        },\n      }\n    ]\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200829172848074",src:n(62635).Z,width:"827",height:"497"})),(0,i.kt)("h3",{id:"\u5904\u7406-svg"},"\u5904\u7406 SVG"),(0,i.kt)("h4",{id:"svg-\u6a21\u5757"},"SVG \u6a21\u5757"),(0,i.kt)("p",null,"SVG \u4e00\u822c\u5728\u7f51\u9875\u4e2d\u53ef\u4ee5\u901a\u8fc7\u4e09\u79cd\u65b9\u5f0f\u4f7f\u7528\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u76f4\u63a5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"li"},"<svg>"),"\u6807\u7b7e\u5d4c\u5165 HTML"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"import"),"\u4ee5\u540e\u653e\u5728",(0,i.kt)("inlineCode",{parentName:"li"},"<img>"),"\u4e2d\u52a0\u8f7d"),(0,i.kt)("li",{parentName:"ul"},"\u901a\u8fc7 CSS \u7684",(0,i.kt)("inlineCode",{parentName:"li"},"url"),"\u5f15\u5165")),(0,i.kt)("p",null,"\u5f00\u53d1\u7684\u65f6\u5019\uff0c\u4e00\u822c\u4e0d\u4f1a\u9009\u62e9\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff0c\u4e0d\u597d\u770b\u4e5f\u4e0d\u5229\u4e8e\u7ef4\u62a4\u3002\u6240\u4ee5\u4e00\u822c\u662f\u505a\u6210\u6a21\u5757\uff0c\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"<img>"),"\u6216\u8005",(0,i.kt)("inlineCode",{parentName:"p"},"url"),"\u5f62\u5f0f\u53bb\u5f15\u5165\u3002\u6240\u4ee5\u5728\u4e0a\u9762\u7684\u914d\u7f6e\u4e2d\uff0c\u8fd8\u9700\u8981\u6dfb\u52a0\u4e00\u79cd SVG \u7684\u6587\u4ef6\u683c\u5f0f\u5339\u914d",(0,i.kt)("inlineCode",{parentName:"p"},"/\\.svg$/i"),"\u3002"),(0,i.kt)("p",null,"\u5355\u4e2a\u7684 SVG \u6587\u4ef6\u4e00\u822c\u90fd\u6bd4\u8f83\u5c0f\uff0c\u5982\u679c\u6309\u7167\u4e0a\u9762\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"url-loader"),"\u914d\u7f6e\uff0cSVG \u4e00\u822c\u4f1a\u88ab\u8f6c\u6210 Base64 \u7136\u540e\u901a\u8fc7 Data URLs \u653e\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"<img>"),"\u6216\u8005",(0,i.kt)("inlineCode",{parentName:"p"},"url"),"\u91cc\u9762\uff0c\u4f46\u662f SVG \u672c\u8eab\u662f\u53ef\u4ee5\u76f4\u63a5\u653e\u5728 Data URLs \u91cc\u7684\uff0c\u5982\u679c\u8f6c\u6210 Base64 \u4ee5\u540e\u518d\u653e\u8fdb\u53bb\uff0c\u6570\u636e\u91cf\u53d8\u5927\u4e86",(0,i.kt)("inlineCode",{parentName:"p"},"1/3"),"\uff0c\u5f92\u589e HTML \u6216\u8005 CSS \u6587\u4ef6\u7684\u4f53\u79ef\uff0c\u8fd9\u662f\u53cd\u5411\u4f18\u5316\uff01\u6240\u4ee5\u4e0d\u53ef\u53d6\uff0c\u5bf9 SVG \u9700\u8981\u989d\u5916\u7684\u5904\u7406\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"url-loader"),"\u662f\u63a8\u8350\u4e86\u4e00\u4e2a",(0,i.kt)("a",{parentName:"p",href:"https://github.com/tigt/mini-svg-data-uri"},(0,i.kt)("inlineCode",{parentName:"a"},"mini-svg-data-uri")),"\u6765\u5904\u7406 SVG\uff0c\u8fd9\u4e2a\u5de5\u5177\u53ef\u4ee5\u79fb\u9664\u539f SVG \u6587\u4ef6\u4e2d\u6ce8\u91ca\uff0c\u7a7a\u683c\u7b49\u4e71\u4e03\u516b\u7cdf\u6ca1\u7528\u7684\u5b57\u7b26\uff0c\u540c\u65f6\u4f1a\u5bf9 SVG \u4e2d\u7684\u5b57\u7b26\u8fdb\u884c URL \u7f16\u7801\uff0c\u907f\u514d\u4e00\u4e9b\u65e7\u7684 IE \u4e0a\u4e0d\u517c\u5bb9\u7684\u95ee\u9898\uff0c\u7136\u540e\u518d\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"url-loader"),"\u88ab\u653e\u5728 Data URLs \u91cc\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add mini-svg-data-uri -D\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const svgToMiniDataURI = require('mini-svg-data-uri');\n\nmodule.exports = {\n  module: {\n    rules: [\n      ...{\n        test: /\\.svg$/i,\n        use: [\n          {\n            loader: 'url-loader',\n            options: {\n              generator: content => svgToMiniDataURI(content.toString()),\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"| pure","|":!0,pure:!0},"import logo from 'logo.svg';\n\nexport default class extends Component {\n  render() {\n    return <img src={logo} />;\n  }\n}\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200829233148456",src:n(54112).Z,width:"707",height:"382"})),(0,i.kt)("h4",{id:"svg-\u7ec4\u4ef6"},"SVG \u7ec4\u4ef6"),(0,i.kt)("p",null,"\u5982\u679c\u60f3\u76f4\u63a5\u5728\u9875\u9762\u91cc\u4f7f\u7528\u8fd9\u4e2a SVG \u56fe\u7247\uff0c\u800c\u4e0d\u662f\u653e\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"<img>"),"\u6807\u7b7e\u91cc\uff0c\u53ef\u4ee5\u4f7f\u7528 airbnb \u51fa\u54c1\u7684",(0,i.kt)("a",{parentName:"p",href:"https://github.com/airbnb/babel-plugin-inline-react-svg#babel-plugin-inline-react-svg"},(0,i.kt)("inlineCode",{parentName:"a"},"babel-plugin-inline-react-svg")),"\uff0c\u8fd9\u4e2a\u63d2\u4ef6\u6211\u5728\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u4f1a\u548c\u4e0a\u9762\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"url-loader"),"\u6709\u4e00\u5b9a\u7684\u51b2\u7a81\u3002\u5b83\u63d0\u4f9b\u7684\u529f\u80fd\u662f\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u5c06 SVG \u6587\u4ef6\u8f6c\u6362\u6210 React \u7ec4\u4ef6"),(0,i.kt)("li",{parentName:"ul"},"\u4f7f\u7528",(0,i.kt)("a",{parentName:"li",href:"https://github.com/svg/svgo/"},"SVGO"),"\u4f18\u5316\u538b\u7f29 SVG")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add babel-plugin-inline-react-svg -D\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.m?jsx?$/,\n        exclude: /(node_modules)/,\n        use: {\n          loader: "babel-loader",\n          options: {\n            presets: ["@babel/preset-env", "@babel/preset-react"],\n            plugins: [\n              "@babel/plugin-proposal-class-properties",\n              "inline-react-svg",       //\u6ce8\u610f\u5230\u8fd9\u662f\u4e00\u4e2ababel\u7684plugin\u5f15\u5165\n          ].filter(Boolean),\n        },\n     },\n     ...\n  }\n}\n')),(0,i.kt)("p",null,"\u6d4b\u8bd5\u4e00\u4e0b\uff0cSVG \u53ef\u4ee5\u901a\u8fc7\u7ec4\u4ef6\u7684\u65b9\u5f0f\u88ab\u63d2\u5165\u5230\u9875\u9762\u4e2d\u4e86\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"| pure","|":!0,pure:!0},"import Logo from 'logo.svg';\n\nexport default class extends Component {\n  render() {\n    return <Logo />;\n  }\n}\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200830002204124",src:n(1824).Z,width:"721",height:"324"})),(0,i.kt)("p",null,"\u800c\u5f53\u6211\u5728\u9879\u76ee\u914d\u7f6e",(0,i.kt)("inlineCode",{parentName:"p"},"resolve.alias"),"\u7684\u65f6\u5019\uff0c\u60f3\u7528 alias \u53bb\u5f15\u5165\u4e00\u4e2a SVG \u7ec4\u4ef6\u65f6\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"babel-plugin-inline-react-svg"),"\u4e0d\u652f\u6301 alias \u89e3\u6790\uff0c\u4e00\u76f4\u62a5\u9519\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"import View from '@/assets/icons/view.svg';\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200914221305987",src:n(24690).Z,width:"1183",height:"155"})),(0,i.kt)("p",null,"\u6211\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"babel-plugin-inline-react-svg"),"\u7684 issue \u4e5f\u63d0\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u63d2\u4ef6\u4f5c\u8005\u56de\u590d\u662f\u56e0\u4e3a babel \u5728 webpack \u5e94\u7528 alias \u4e4b\u524d\u5df2\u7ecf\u5f00\u59cb\u8fd0\u884c\u4e86\u3002\u540e\u6765\u627e\u5230\u4e86\u4e24\u4e2a\u89e3\u51b3\u65b9\u6cd5\uff1a"),(0,i.kt)("p",null,"\u4e00\u662f\u5b89\u88c5",(0,i.kt)("a",{parentName:"p",href:"https://github.com/tleunen/babel-plugin-module-resolver"},(0,i.kt)("inlineCode",{parentName:"a"},"babel-plugin-module-resolver")),"\uff0c\u8fd9\u4e2a\u662f babel \u7684 plugin\uff0c\u5e2e\u52a9 babel \u89e3\u6790 alias \u8def\u5f84\u95ee\u9898\uff0c\u914d\u5408",(0,i.kt)("inlineCode",{parentName:"p"},"babel-plugin-inline-react-svg"),"\u4f7f\u7528\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add babel-plugin-module-resolver -D\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.m?jsx?$/,\n        exclude: /(node_modules)/,\n        use: {\n          loader: "babel-loader",\n          options: {\n            presets: ["@babel/preset-env", "@babel/preset-react"],\n            plugins: [\n              "@babel/plugin-proposal-class-properties",\n              "inline-react-svg",           // apply babel-plugin-inline-react-svg\n              [\n                "module-resolver",         //  apply babel-plugin-module-resolver\n                {\n                  alias: {\n                    "@": "./src",\n                  },\n                },\n              ],\n            ],\n          },\n        },\n        ...\n      }\n\n')),(0,i.kt)("p",null,"\u53e6\u4e00\u4e2a\u89e3\u51b3\u65b9\u5f0f\u662f\u6362\u6210",(0,i.kt)("a",{parentName:"p",href:"https://github.com/gregberge/svgr/tree/master/packages/webpack"},(0,i.kt)("inlineCode",{parentName:"a"},"@svgr/webpack"))," \u8fd9\u4e2a webpack loader \u6765\u89e3\u6790 SVG \u7ec4\u4ef6\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add @svgr/webpack -D\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.svg$/,\n        use: [\n          {\n            loader: '@svgr/webpack',\n            options: {\n              native: true,\n            },\n          },\n        ],\n      },\n    ],\n  },\n};\n")),(0,i.kt)("h4",{id:"svg-sprite"},"svg-sprite"),(0,i.kt)("p",null,"\u4e0a\u9762\u7684 SVG \u65b9\u6848\u90fd\u662f\u4e00\u6b21\u5f15\u5165\u4e00\u4e2a SVG \u56fe\u50cf\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5728\u9875\u9762\u56fe\u6807\u591a\u7684\u65f6\u5019\u975e\u5e38\u9ebb\u70e6\uff0c20 \u591a\u4e2a\u56fe\u6807\u90fd\u5f97 20 \u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"import"),"\u3002"),(0,i.kt)("p",null,"SVG sprite \u662f\u5229\u7528\u548c\u4ee5\u524d CSS sprite \u76f8\u540c\u7684\u65b9\u6848\u601d\u8def\uff0c\u5c06\u591a\u4e2a SVG \u56fe\u50cf\u5408\u5e76\u5230\u4e00\u4e2a SVG \u6587\u4ef6\u4e2d\uff0c\u6700\u7ec8\u5728\u9875\u9762\u4e2d\u53ea\u663e\u793a\u4e00\u4e2a\u7279\u5b9a SVG \u56fe\u50cf\u3002SVG sprite \u53ea\u9002\u5408\u591a\u4e2a\u5c0f\u7684 SVG \u56fe\u6807\u6574\u5408\uff0c\u5bf9\u4e8e\u5927\u7684 SVG \u56fe\u50cf\u5f53\u4f5c\u666e\u901a\u56fe\u7247\u7528\u4e0a\u9762\u7684\u65b9\u6cd5\u5904\u7406\u6bd4\u8f83\u5408\u9002\u3002"),(0,i.kt)("p",null,"\u7ecf\u8fc7\u4e00\u5b9a\u7684 webpack \u914d\u7f6e\uff0c\u5728 React \u4e2d\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 SVG sprite\uff0c\u65b9\u6cd5\u662f\u5148\u5c06\u6240\u6709 SVG \u56fe\u50cf\u5728\u9879\u76ee\u5916\u9762\u5408\u6210\u4e00\u4e2a SVG sprite",(0,i.kt)("inlineCode",{parentName:"p"},"sprite.svg"),"\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<svg width="0" height="0" class="hidden">\n  <symbol viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="view">\n    <path\n      d="M512 608a96 96 0 1 1 0-192 96 96 0 0 1 0 192m0-256c-88.224 0-160 71.776-160 160s71.776 160 160 160 160-71.776 160-160-71.776-160-160-160"\n    ></path>\n    <path\n      d="M512 800c-212.064 0-384-256-384-288s171.936-288 384-288 384 256 384 288-171.936 288-384 288m0-640C265.248 160 64 443.008 64 512c0 68.992 201.248 352 448 352s448-283.008 448-352c0-68.992-201.248-352-448-352"\n    ></path>\n  </symbol>\n  <symbol\n    viewBox="0 0 1024 1024"\n    xmlns="http://www.w3.org/2000/svg"\n    id="view_off"\n  >\n    <path\n      d="M512 800c-66.112 0-128.32-24.896-182.656-60.096l94.976-94.976A156.256 156.256 0 0 0 512 672c88.224 0 160-71.776 160-160a156.256 156.256 0 0 0-27.072-87.68l101.536-101.536C837.28 398.624 896 493.344 896 512c0 32-171.936 288-384 288m96-288a96 96 0 0 1-96 96c-14.784 0-28.64-3.616-41.088-9.664l127.424-127.424C604.384 483.36 608 497.216 608 512m-480 0c0-32 171.936-288 384-288 66.112 0 128.32 24.896 182.656 60.096l-417.12 417.12C186.72 625.376 128 530.656 128 512m664.064-234.816l91.328-91.328-45.248-45.248-97.632 97.632C673.472 192.704 595.456 160 512 160 265.248 160 64 443.008 64 512c0 39.392 65.728 148.416 167.936 234.816l-91.328 91.328 45.248 45.248 97.632-97.632C350.528 831.296 428.544 864 512 864c246.752 0 448-283.008 448-352 0-39.392-65.728-148.416-167.936-234.816"\n    ></path>\n    <path\n      d="M512 352c-88.224 0-160 71.776-160 160 0 15.328 2.848 29.856 6.88 43.872l58.592-58.592a95.616 95.616 0 0 1 79.808-79.808l58.592-58.592A157.76 157.76 0 0 0 512 352"\n    ></path>\n  </symbol>\n</svg>\n')),(0,i.kt)("p",null,"\u7136\u540e\u5f88\u5173\u952e\u7684\uff0c\u8fd9\u662f\u4e00\u4e2a\u9759\u6001\u6587\u4ef6\uff0c\u6211\u7684\u505a\u6cd5\u662f\u628a\u5b83\u76f4\u63a5\u548c HTML \u9875\u9762\u653e\u5728\u4e00\u4e2a\u6587\u4ef6\u5939\u4e0b\uff0c\u4e5f\u5c31\u662f\u90fd\u653e\u5728\u76f4\u63a5\u5efa\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"public"),"\u91cc\u9762\u3002\u5728\u5f00\u53d1\u73af\u5883\u4e0b\uff0c\u9700\u8981\u5728 WDS \u91cc\u9762\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"contentBase"),"\u914d\u7f6e\u9759\u6001\u6587\u4ef6\u7684\u76ee\u5f55\uff0c\u8868\u793a\u670d\u52a1\u5668\u5728\u8bf7\u6c42\u7684\u65f6\u5019\u8981\u5e26\u4e0a\u8fd9\u4e9b\u9759\u6001\u6587\u4ef6\uff0c\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = {\n  ...\n  devServer:{\n    ...\n    contentBase: "public",\n  }\n}\n')),(0,i.kt)("p",null,"\u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u76f4\u63a5\u5728 React \u91cc\u9762\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"<use>"),"\u4f7f\u7528\u4e0a\u9762",(0,i.kt)("inlineCode",{parentName:"p"},"sprite.svg"),"\u91cc\u7684\u4efb\u610f\u4e00\u4e2a\u56fe\u6807\u4e86\uff0c\u8fd8\u80fd\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"fill"),"\uff0c",(0,i.kt)("inlineCode",{parentName:"p"},"height"),"\u6216\u8005",(0,i.kt)("inlineCode",{parentName:"p"},"width"),"\u7b49\u5c5e\u6027\u4fee\u6539\u56fe\u6807\u3002\u6ce8\u610f\u4e24\u70b9\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u8fd9\u91cc\u7684\u4f7f\u7528\u4e0d\u9700\u8981",(0,i.kt)("inlineCode",{parentName:"li"},"import"),"\u53bb\u5bfc\u5165",(0,i.kt)("inlineCode",{parentName:"li"},"sprite.svg")),(0,i.kt)("li",{parentName:"ul"},"\u6ce8\u610f",(0,i.kt)("inlineCode",{parentName:"li"},"<use>"),"\u7684",(0,i.kt)("inlineCode",{parentName:"li"},"href"),"\u7684\u8def\u5f84\uff0c\u6c38\u8fdc\u662f\u76f8\u5bf9\u4e8e\u5f53\u524d HTML \u9875\u9762\u6240\u5728\u7684\u76ee\u5f55\uff0c\u8fd9\u6837\u5373\u4f7f\u6253\u5305\u4ee5\u540e\u4e5f\u80fd\u627e\u5f97\u5230")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"| pure","|":!0,pure:!0},'export default class extends Component {\n  render() {\n    return (\n      <div>\n        <svg>\n          <use href="sprite.svg#view" fill="red" />\n        </svg>\n        <svg>\n          <use href="sprite.svg#view_off" />\n        </svg>\n      </div>\n    );\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200830221725641",src:n(1998).Z,width:"1026",height:"385"})),(0,i.kt)("p",null,"\u5982\u679c\u8981\u6267\u884c\u6253\u5305",(0,i.kt)("inlineCode",{parentName:"p"},"yarn build"),"\uff0c\u9700\u8981\u501f\u52a9\u4e00\u4e2a webpack \u7684\u63d2\u4ef6 \u2014\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/webpack-contrib/copy-webpack-plugin#copy-webpack-plugin"},(0,i.kt)("inlineCode",{parentName:"a"},"copy-webpack-plugin")),"\uff0c\u8fd9\u4e2a\u63d2\u4ef6\u53ef\u4ee5\u5c06\u6307\u5b9a\u76ee\u5f55\u7684\u6587\u4ef6\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u76ee\u5f55\u4e2d\uff0c\u5e76\u4e14\u590d\u5236\u8fc7\u7a0b\u8fd8\u53ef\u4ee5\u501f\u52a9\u4e00\u4e9b\u5de5\u5177\u6765\u538b\u7f29\u6587\u4ef6\uff0c\u4f8b\u5982\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("a",{parentName:"p",href:"https://github.com/svg/svgo/"},"SVGO"),"\u7684\u5de5\u5177\u6765\u4f18\u5316 SVG \u6587\u4ef6"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add copy-webpack-plugin -D\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const CopyPlugin = require('copy-webpack-plugin');\n\nmodule.exports = {\n  plugins: [\n    new CopyPlugin({\n      patterns: [{ from: 'public/sprite.svg' }], //\u5c06sprite.svg\u590d\u5236\u5230\u6253\u5305\u8f93\u51fa\u76ee\u5f55\n    }),\n  ],\n};\n")),(0,i.kt)("p",null,"\u8fd9\u79cd\u65b9\u5f0f\u5341\u5206\u7b80\u5355\uff0c\u5e76\u4e14\u80fd\u8282\u7701 SVG \u6587\u4ef6\u7684\u8bf7\u6c42\uff1b\u4f46\u662f\u4e0d\u5229\u4e8e\u7ef4\u62a4\uff0c\u56fe\u6807\u66f4\u65b0\u9700\u8981\u624b\u52a8\u4fee\u6539\u6587\u4ef6\uff0c\u5fc5\u987b\u4fdd\u8bc1\u6bcf\u4e2a SVG \u56fe\u6807\u7684 id \u662f\u552f\u4e00\u7684\uff0c\u56fe\u6807\u8d8a\u6765\u8d8a\u591a\u7684\u60c5\u51b5\u4e0b\uff0c\u5f88\u4e71\uff0c\u540c\u65f6\u65e0\u6cd5",(0,i.kt)("a",{parentName:"p",href:"https://webpack.docschina.org/guides/lazy-loading/"},"\u6309\u9700\u52a0\u8f7d"),"\uff0c\u9875\u9762\u53ea\u8981\u5305\u542b\u4e00\u4e2a\u56fe\u6807\u6587\u4ef6\uff0c\u6574\u4e2a",(0,i.kt)("inlineCode",{parentName:"p"},"sprite.svg"),"\u90fd\u4f1a\u88ab\u8bf7\u6c42\u52a0\u8f7d\u3002"),(0,i.kt)("h4",{id:"svg-sprite-loader"},"svg-sprite-loader"),(0,i.kt)("p",null,"\u89e3\u51b3\u6309\u9700\u52a0\u8f7d\u548c\u65b9\u4fbf\u7ef4\u62a4\u7684\u4e00\u4e2a\u65b9\u6cd5\u662f\u4f7f\u7528 JetBrains \u51fa\u54c1\u7684",(0,i.kt)("a",{parentName:"p",href:"https://github.com/JetBrains/svg-sprite-loader#why-its-cool"},(0,i.kt)("inlineCode",{parentName:"a"},"svg-sprite-loader")),"\uff0c\u5b83\u53ef\u4ee5\u5728\u8fd0\u884c\u7684\u65f6\u5019\u6839\u636e\u7ec4\u4ef6\u4e2d\u5f15\u5165\u7684 SVG \u6587\u4ef6\uff0c\u52a8\u6001\u5730\u5c06\u8fd9\u4e9b\u6587\u4ef6\u5408\u5e76\u6210",(0,i.kt)("inlineCode",{parentName:"p"},"sprite.svg"),"\uff0c\u7136\u540e\u63d2\u5165\u5230 HTML \u4e2d\uff0c\u6d4b\u8bd5\u4e00\u4e0b\uff1a"),(0,i.kt)("p",null,"\u9996\u5148\uff0c\u5728\u9879\u76ee\u4e2d\u65b0\u5efa\u4e00\u4e2a\u4e13\u95e8\u7528\u6765\u653e\u56fe\u6807\u7684\u6587\u4ef6\u5939",(0,i.kt)("inlineCode",{parentName:"p"},"src/assets/icons"),"\uff0c\u666e\u901a\u7684 SVG \u56fe\u50cf\u5c31\u4e0d\u8981\u653e\u8fdb\u53bb\u4e86\uff0c\u4e13\u95e8\u7528\u6765\u7ba1\u7406\u56fe\u6807\u7684\u3002"),(0,i.kt)("p",null,"\u628a\u521a\u624d\u90a3\u4e24\u4e2a\u5408\u6210",(0,i.kt)("inlineCode",{parentName:"p"},"sprite.svg"),"\u7684\u56fe\u6807\u5206\u5f00\u653e\u8fdb\u53bb\uff0c\u4e8e\u662f\u6709\u4e86\u4e0b\u9762\u7684\u76ee\u5f55\u7ed3\u6784\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"src\n\u251c\u2500 assets\n\u2502    \u251c\u2500 icons\n\u2502    \u2502    \u251c\u2500 view.svg\n\u2502    \u2502    \u2514\u2500 view_off.svg\n\u2502    \u251c\u2500 images\n\u2502    \u2502    \u251c\u2500 picture.svg\n")),(0,i.kt)("p",null,"\u5728 webpack \u4e2d\u5f15\u5165",(0,i.kt)("inlineCode",{parentName:"p"},"svg-sprite-loader"),"\u5e76\u914d\u7f6e\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u4f7f\u7528 webpack \u7684",(0,i.kt)("a",{parentName:"p",href:"https://webpack.docschina.org/configuration/module/#condition"},(0,i.kt)("inlineCode",{parentName:"a"},"include")),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"exclude"),"\u5bf9\u4e0d\u540c\u7528\u5904\u7684 SVG \u8fdb\u884c\u533a\u5206\uff1a"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"url-loader"),"\u5904\u7406\u9875\u9762\u4e2d\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"li"},"<img>"),"\u6216\u8005\u5728 CSS \u4e2d\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"li"},"url"),"\u5f15\u5165\u7684 SVG\uff0c\u8981\u5ffd\u7565\u6389",(0,i.kt)("inlineCode",{parentName:"li"},"src/assets/icons")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"babel-plugin-inline-react-svg"),"\u8d1f\u8d23\u5904\u7406\u7ec4\u4ef6\u5f62\u5f0f\u7684 SVG\uff0c\u65e0\u5173"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"svg-sprite-loader"),"\u8d1f\u8d23\u5904\u7406\u7ec4\u4ef6\u4e2d\u4ee5",(0,i.kt)("inlineCode",{parentName:"li"},"<svg>"),"\u6807\u7b7e\u76f4\u63a5\u5d4c\u5165\u7684\u5f62\u5f0f\uff0c\u53ea\u5904\u7406",(0,i.kt)("inlineCode",{parentName:"li"},"src/assets/icons"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add svg-sprite-loader -D\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = {\n  module: {\n    rules: [\n      ...{\n        oneOf: [\n          {\n            test: /\\.svg$/i,\n            exclude: path.resolve(__dirname, 'src/assets/icons'), //\u5ffd\u7565icon\u6587\u4ef6\u5939\n            use: [\n              {\n                loader: 'url-loader',\n              },\n            ],\n          },\n          {\n            test: /\\.svg$/i,\n            include: path.resolve(__dirname, 'src/assets/icons'), //\u53ea\u5904\u7406icon\u6587\u4ef6\u5939\n            use: 'svg-sprite-loader',\n          },\n        ],\n      },\n    ],\n  },\n};\n")),(0,i.kt)("p",null,"\u8fd9\u6837\u5728\u7ec4\u4ef6\u4e2d",(0,i.kt)("inlineCode",{parentName:"p"},"import"),"SVG \u6587\u4ef6\u4ee5\u540e\uff0c\u80fd\u76f4\u63a5\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"<use>"),"\u4f7f\u7528\u56fe\u6807\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"| pure","|":!0,pure:!0},"import '../../assets/icons/view.svg';\n\nexport default class extends Component {\n  render() {\n    return (\n      <div>\n        <svg>\n          <use href=\"#view\" />\n        </svg>\n      </div>\n    );\n  }\n}\n")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200830232038373",src:n(50117).Z,width:"1278",height:"451"})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u548c CRA \u96c6\u6210 \u2014\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/JetBrains/svg-sprite-loader/issues/339"},"https://github.com/JetBrains/svg-sprite-loader/issues/339"))),(0,i.kt)("h3",{id:"\u56fe\u7247\u538b\u7f29"},"\u56fe\u7247\u538b\u7f29"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/tcoopman/image-webpack-loader#image-webpack-loader"},(0,i.kt)("inlineCode",{parentName:"a"},"image-webpack-loader")),"\u662f\u4f7f\u7528",(0,i.kt)("a",{parentName:"p",href:"https://github.com/kevva/imagemin"},"imagemin"),"\u8fdb\u884c\u56fe\u7247\u538b\u7f29\u7684 loader\uff0c\u53ef\u4ee5\u5728",(0,i.kt)("inlineCode",{parentName:"p"},"url-loader"),"\u6216\u8005",(0,i.kt)("inlineCode",{parentName:"p"},"file-loader"),"\u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u56fe\u7247\u538b\u7f29\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add image-webpack-loader -D\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u5728url-loader\u7684\u57fa\u7840\u4e0a\u4f7f\u7528\nmodule.exports = function(env) {\n  const isDevelopment = env.NODE_ENV === 'development';\n  return {\n    module: {\n      rules: [\n        {\n          test: [/\\.bmp$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/, /\\.svg$/i],\n          include: path.resolve(__dirname, 'src/assets/images'),\n          use: [\n            {\n              loader: 'url-loader',\n              options: {\n                limit: 10 * 1024, //10KB\n                name: 'static/images/[name].[hash:8].[ext]',\n              },\n            },\n            {\n              loader: 'image-webpack-loader', //\u5f15\u5165image-webpack-loader\n              options: {\n                disable: isDevelopment, // webpack@2.x and newer\n              },\n            },\n          ],\n        },\n      ],\n    },\n  };\n};\n")),(0,i.kt)("p",null,"\u9ed8\u8ba4\u914d\u7f6e\u60c5\u51b5\u4e0b\uff0c\u5bf9\u56fe\u7247\u7684\u538b\u7f29\u53ef\u4ee5\u51cf\u5c11\u7ea6",(0,i.kt)("inlineCode",{parentName:"p"},"60%"),"\u7684\u56fe\u7247\u4f53\u79ef\uff0c\u53ef\u4ee5\u770b\u5230\u538b\u7f29\u524d\u56fe\u7247",(0,i.kt)("inlineCode",{parentName:"p"},"7.39MB"),"\uff0c\u538b\u7f29\u540e\u4ec5\u4e3a",(0,i.kt)("inlineCode",{parentName:"p"},"2.32MB")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200906194421570",src:n(39569).Z,width:"755",height:"127"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200906194438013",src:n(306).Z,width:"853",height:"127"})),(0,i.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u672c\u8eab\u538b\u7f29\u56fe\u7247\u662f\u4e00\u4ef6\u7f13\u6162\u7684\u4e8b\uff0c\u6211\u5728\u4e0a\u9762\u4e00\u5f20\u56fe\u7247\u7684\u538b\u7f29\u5927\u6982\u8017\u8d39\u4e86 6s \u7684\u65f6\u95f4\u5462\uff0c\u6240\u4ee5\u6307\u5b9a",(0,i.kt)("inlineCode",{parentName:"p"},"disable: isDevelopment"),"\u5728\u5f00\u53d1\u73af\u5883\u4e0b\u4f1a\u7981\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"image-webpack-loader"),"\u3002"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20200910234945155",src:n(26406).Z,width:"572",height:"314"})),(0,i.kt)("h2",{id:"\u5904\u7406\u5b57\u4f53"},"\u5904\u7406\u5b57\u4f53"),(0,i.kt)("p",null,"\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5b57\u4f53\u6587\u4ef6\u53ef\u4ee5\u7528\u4f5c\u6587\u672c\u7684\u6e32\u67d3\uff0c\u6216\u8005\u7528\u6765\u5904\u7406 IconFont\uff0c\u5373\u901a\u8fc7",(0,i.kt)("inlineCode",{parentName:"p"},"@font-face"),"\u5b9a\u4e49 IconFont\uff0c\u7136\u540e\u5728 CSS \u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"@font-face"),"\u5b9a\u4e49\u7684\u56fe\u6807\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"file-loader"),"\u548c",(0,i.kt)("inlineCode",{parentName:"p"},"url-loader"),"\u90fd\u80fd\u7528\u6765\u5904\u7406\u5b57\u4f53\u6587\u4ef6\uff0c\u5982\u679c\u901a\u8fc7 CSS \u7684",(0,i.kt)("inlineCode",{parentName:"p"},"@font-face"),"\u4e2d\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"src"),"\u6765\u5f15\u5165 web \u5b57\u4f53\uff0c\u4f8b\u5982\u52a0\u8f7d\u670d\u52a1\u5668\u4e0a\u7684\u5b57\u4f53\u6587\u4ef6\uff0c\u90a3\u4e48\u9700\u8981 loader \u6765\u5904\u7406\u3002"),(0,i.kt)("p",null,"\u4ee5\u914d\u7f6e\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"url-loader"),"\u4e3a\u4f8b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = {\n  ...\n  module: {\n    rules:[\n      ...\n      {\n        test: [/\\.ttf/i, /\\.woff/i, /\\.woff2/i, /\\.eot/i, /\\.otf/i],\n        loader: "url-loader",\n        include: path.resolve(__dirname, "src/assets/fonts"),\n        options: {\n          limit: 10 * 1024, //10KB\n          name: "static/fonts/[name].[hash:8].[ext]",\n        },\n      },\n    ]\n  }\n}\n')),(0,i.kt)("p",null,"\u8fd9\u6837\u5c31\u53ef\u4ee5\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"@font-face"),"\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"url"),"\u52a0\u8f7d\u670d\u52a1\u5668\u4e0a\u7684\u5b57\u4f53\u6587\u4ef6\u4e86"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-css"},"@font-face {\n  font-family: 'heiti2';\n  src: url('../../assets/fonts/heiti2.ttf');\n}\n\nbody {\n  font-family: 'heiti2';\n}\n")),(0,i.kt)("h3",{id:"\u5b57\u4f53\u538b\u7f29"},"\u5b57\u4f53\u538b\u7f29"),(0,i.kt)("p",null,"\u4e00\u822c\u4e2d\u6587\u5b57\u4f53\u5305\u5305\u542b\u5927\u91cf\u7684\u4e2d\u6587\u5b57\u7b26\uff0c\u5bfc\u81f4\u4e2d\u6587\u5b57\u4f53\u5305\u4e00\u822c\u90fd\u975e\u5e38\u7684\u5927\uff0c\u968f\u4fbf\u4e00\u4e2a\u90fd\u53ef\u80fd\u90fd\u662f\u51e0",(0,i.kt)("inlineCode",{parentName:"p"},"MB"),"\uff0c\u5982\u679c\u7f51\u9875\u5168\u5c40\u4f7f\u7528\u5b57\u4f53\u5305\u4e2d\u7684\u5b57\u4f53\uff0c\u4f1a\u5f71\u54cd\u7f51\u9875\u7684\u5448\u73b0\u901f\u5ea6\u3002"),(0,i.kt)("p",null,"\u5728\u5f15\u5165\u5b57\u4f53\u4e4b\u524d\u5bf9\u5b57\u4f53\u5305\u8fdb\u884c\u538b\u7f29\u662f\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\uff0c\u8fd9\u91cc\u4f7f\u7528\u5f00\u6e90\u5de5\u5177",(0,i.kt)("a",{parentName:"p",href:"https://github.com/aui/font-spider"},"\u5b57\u86db"),"\uff0c\u4f7f\u7528 font-spider\uff0c\u9996\u5148\u65b0\u5efa\u4e00\u4e2a\u7a7a\u6587\u4ef6\u5939\uff0c\u5185\u90e8\u65b0\u5efa\u4e00\u4e2a html \u6587\u4ef6\uff0c\u5e76\u4e14\u5c06\u539f\u5b57\u4f53\u5305\u653e\u5728\u91cc\u9762\uff0c\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},"<!DOCTYPE html>\n<html lang=\"zh-hans\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <style>\n      @font-face {\n        font-family: 'heiti2';\n        src: url('./heiti2.ttf');\n      }\n\n      body {\n        font-family: 'heiti2';\n      }\n    </style>\n  </head>\n</html>\n")),(0,i.kt)("p",null,"\u7136\u540e\u5b89\u88c5",(0,i.kt)("inlineCode",{parentName:"p"},"font-spider")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn global add font-spider\n")),(0,i.kt)("p",null,"\u8fdb\u5165\u521a\u624d\u65b0\u5efa\u7684 html \u6587\u4ef6\u7684\u76ee\u5f55\uff0c\u5f00\u59cb\u6267\u884c\u538b\u7f29\u547d\u4ee4"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"font-spider ./index.html\n")),(0,i.kt)("p",null,"\u6267\u884c\u5b8c\u4ee5\u540e\uff0c\u76ee\u5f55\u4e0b\u9762\u4f1a\u751f\u6210\u4e00\u4e2a\u5907\u4efd\u76ee\u5f55",(0,i.kt)("inlineCode",{parentName:"p"},".font-spider"),"\u7528\u6765\u4fdd\u5b58\u539f\u5b57\u4f53\u6587\u4ef6\uff0c\u800c\u539f\u6765\u7684\u5b57\u4f53\u6587\u4ef6\u5df2\u7ecf\u88ab\u66ff\u6362\u6210\u4e86\u538b\u7f29\u4ee5\u540e\u7684\u5b57\u4f53\u6587\u4ef6\uff0c\u8fd9\u4e2a\u538b\u7f29\u6548\u679c\uff0c\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"minify\n\u251c\u2500 .font-spider\n\u2502    \u2514\u2500 heiti2.ttf\n\u251c\u2500 heiti2.ttf\n\u251c\u2500 index.html\n")),(0,i.kt)("p",null,"\u8fd9\u4e2a\u538b\u7f29\u6548\u679c\u8fd8\u662f\u5341\u5206\u5f3a\u608d\u7684\uff0c\u7ecf\u8fc7\u6d4b\u8bd5\uff0c\u539f\u5b57\u4f53\u6587\u4ef6",(0,i.kt)("inlineCode",{parentName:"p"},"2.17MB"),"\uff0c\u538b\u7f29\u4ee5\u540e\u53ea\u6709",(0,i.kt)("inlineCode",{parentName:"p"},"6KB"),"\u4e86\u3002\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u91cc\u7684\u538b\u7f29\u53ea\u662f\u4e00\u4e2a\u6d4b\u8bd5\uff0c\u5728 webpack \u4e2d\u4f7f\u7528\u7684\u8bdd\uff0c\u76ee\u524d font-spider \u6ca1\u6709\u76f8\u5e94\u7684\u65b9\u6848\uff0c\u8fd9\u4e2a\u9879\u76ee\u5df2\u7ecf\u5f88\u4e45\u6ca1\u7ef4\u62a4\u4e86\uff0c\u89c1\u8ba8\u8bba \u2014\u2014 ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/aui/font-spider/issues/150"},"\u5982\u4f55\u5728 webpack \u4e2d\u4f7f\u7528\u672c\u5de5\u5177 #150"),"\u3002\u5982\u679c\u60f3 webpack \u914d\u5957\u4f7f\u7528\uff0c\u9700\u8981\u5728\u6253\u5305\u4ee5\u540e\uff0c\u989d\u5916\u6267\u884c\u4e00\u4e0b",(0,i.kt)("inlineCode",{parentName:"p"},"font-spider"),"\u538b\u7f29\u547d\u4ee4\uff0c\u7136\u540e\u53ef\u80fd\u8fd8\u9700\u8981\u68c0\u67e5\u4e00\u4e0b\u5b57\u4f53\u5f15\u7528\u8def\u5f84\u662f\u5426\u6b63\u786e\u3002"))}k.isMDXComponent=!0},16420:function(e,t,n){t.Z=n.p+"assets/images/image-20200817181923389-1ac00c9f7718b3467cbf10f6d8ae4d9f.png"},17716:function(e,t,n){t.Z=n.p+"assets/images/image-20200817193428448-c378ef93cb20b12a3eb85126307f7406.png"},49976:function(e,t,n){t.Z=n.p+"assets/images/image-20200827223319900-c2df8c6b98ca9f0fbf2915ee3df45e35.png"},61002:function(e,t,n){t.Z=n.p+"assets/images/image-20200828171538000-ccb7997e2925ce2c181d7ae78ce0fa34.png"},53477:function(e,t,n){t.Z=n.p+"assets/images/image-20200828175458964-d4e572b4beb03b9947dd0214975d0aff.png"},20348:function(e,t,n){t.Z=n.p+"assets/images/image-20200828175718423-23972b1bdfe9007ddc77d9b24e1da13e.png"},6566:function(e,t,n){t.Z=n.p+"assets/images/image-20200828184616588-45a12dd1e38f325617769929fffa394b.png"},90036:function(e,t,n){t.Z=n.p+"assets/images/image-20200828184732391-1610176361440-cbe89440d814399cc95d05e7cd7f239a.png"},32249:function(e,t,n){t.Z=n.p+"assets/images/image-20200828232655666-b570ef49545d9735029086c87cc6cf8f.png"},24461:function(e,t,n){t.Z=n.p+"assets/images/image-20200829163458852-ae43f5c7f9e463b9e83136b4fa9ef1d2.png"},62635:function(e,t,n){t.Z=n.p+"assets/images/image-20200829172848074-eb7ebcf36f0eb9440c296bb7dacc53fa.png"},54112:function(e,t,n){t.Z=n.p+"assets/images/image-20200829233148456-99def17b01dfdd03c1b4e32db3576302.png"},1824:function(e,t,n){t.Z=n.p+"assets/images/image-20200830002204124-d84699366ac09ba0d488ca4f600fcfa2.png"},1998:function(e,t,n){t.Z=n.p+"assets/images/image-20200830221725641-16411999239456-33599170cd9d1e6ac99549c20b8e7c06.png"},50117:function(e,t,n){t.Z=n.p+"assets/images/image-20200830232038373-16411999150215-786322461478cff60b57a3736e42d7c2.png"},39569:function(e,t,n){t.Z=n.p+"assets/images/image-20200906194421570-9ac2b418c5d268c401841ce17e8d338d.png"},306:function(e,t,n){t.Z=n.p+"assets/images/image-20200906194438013-af48a659695b1afd1a5894bb450b5327.png"},52560:function(e,t,n){t.Z=n.p+"assets/images/image-20200908174806466-8fdeaed85b73f9c53f0fdcb8c0174013.png"},14092:function(e,t,n){t.Z=n.p+"assets/images/image-20200908230724789-772ed58f64bc22dc03497f05ff7a60b2.png"},26406:function(e,t,n){t.Z=n.p+"assets/images/image-20200910234945155-2665f714bd2a6e63a979accd227dc3fa.png"},24690:function(e,t,n){t.Z=n.p+"assets/images/image-20200914221305987-d38fc446abafd0063aeda36d4f4301fc.png"}}]);